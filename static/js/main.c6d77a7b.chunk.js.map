{"version":3,"sources":["Utility.js","CommonComponents.js","icons/no-color-icon.png","PickerComponents.js","BackgroundConfigComponent.js","DraggableComponent.js","TextConfigComponent.js","ImageConfigComponent.js","App.js","reportWebVitals.js","index.js"],"names":["copyOf","obj","jsonObject","JSON","stringify","parse","loadImage","file","onload","type","alert","reader","FileReader","e","target","result","readAsDataURL","rescale","ref_actual_size","ref_percent","size","mergeFilterStyle","data","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","opacity","saturate","sepia","join","ButtonComponent","props","data-name","name","className","onClick","style","iconClass","ImageInputComponent","id","hidden","accept","onChange","htmlFor","iconStyle","children","BottomMenuOptionComponent","options","map","option","data-value","value","selected","label","TextAlignPicker","this","textAlign","data-prop","handleChange","React","Component","FONT","FontPicker","state","leftClass","rightClass","container","createRef","handleScroll","bind","handleClick","event","current","scrollLeft","offsetWidth","scrollWidth","setState","dataset","scroll","left","behavior","fontElements","font","index","fontFamily","onScroll","ref","ColorStylePicker","styleProperty","colorStyle","normal","color","backgroundImage","noColorIcon","backgroundColor","gradient","top","bottom","image","transparent","property","selectedGradient","topProperty","bottomProperty","COLORS","ColorPicker","colorElements","borderColor","FontStylePicker","italic","fontStyle","bold","fontWeight","underline","textDecoration","BorderStylePicker","borderStyle","RangePicker","min","parseInt","max","step","convertToPercent","suffix","BackgroundConfigComponent","Object","assign","currentTarget","backgroundStyle","handleBackgroundSave","files","length","response","prop","backgroundGradient","replace","split","backgroundImageSize","backgroundSize","width","height","document","body","offsetHeight","menu_config","backgroundPosition","backgroundRepeat","menu_options","DraggableComponent","currX","currY","prevX","prevY","elem","handleMouseDown","handleDrag","handleMouseUp","leftLineElem","topLineElem","rightLineElem","bottomLineElem","preventDefault","stopPropagation","onmouseup","onmousemove","ontouchend","ontouchmove","touches","changedTouches","clientX","clientY","classList","add","handleDraggableClick","remove","prevProps","prevState","offsetTop","offsetLeft","containerWidth","containerHeight","snapshot","innerText","innerHTML","image_size_style","crop","parseFloat","transform","onMouseDown","onTouchStart","filter","marginTop","marginLeft","src","onLoad","handleImageHeight","alt","text","fontSize","borderWidth","borderRadius","textShadow","fontColorStyle","fontGradientColor","fontImage","backgroundColorStyle","backgroundGradientColor","padding","PureComponent","DraggableConfigComponent","right","minSize","maxSize","rotate","TextConfigComponent","Date","now","position","whiteSpace","selectedOption","selectedFontGradient","selectedBackgroundGradient","undefined","handleTextChange","onSave","includes","textShadowLeft","textShadowTop","textShadowBlur","textShadowColor","colorStyleProps","fontGradient","spellCheck","InputTextComponent","textField","getEl","focus","html","IMAGE_FILTER_CONFIG","ImageConfigComponent","selectedFilter","selectedCrop","handleImageLoad","out_of_range","ImageFilterComponent","rangeConfig","thumbnailConfig","keys","App","addIconClicked","configOverlay","backgroundConfigOverlay","textArray","imageArray","selectedDraggable","screenshotMode","handleTextSave","handleImageSave","handleScreenshot","touchDiff","appElem","handleTouchStart","handleTouchMove","handleTouchEnd","startsWith","contains","isPresent","i","push","t","background","addEventListener","removeEventListener","pos1","pos2","diff","currDiff","textElements","imageElements","find","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c6d77a7b.chunk.js","sourcesContent":["function copyOf(obj) {\r\n\tvar jsonObject = JSON.stringify(obj);\r\n\treturn JSON.parse(jsonObject);\r\n}\r\n\r\nfunction loadImage(file, onload) {\r\n\tlet type = file.type;\r\n\tif(!((type === \"image/jpeg\") || (type === \"image/png\") || (type === \"image/jpg\"))){\r\n\t\talert(\"Invalid File Extension. Expected formats : jpeg, png or jpg\");\r\n\t}else{\r\n\t\tlet reader = new FileReader();\r\n\t\treader.onload = (e) => { onload(e.target.result) };\r\n\t\treader.readAsDataURL(file);\r\n\t}\r\n}\r\n\r\nfunction rescale(ref_actual_size, ref_percent, size) {\r\n\tlet ref_size = ref_actual_size * 100 / ref_percent;\r\n\treturn ref_actual_size * size / ref_size;\r\n}\r\n\r\nfunction mergeFilterStyle(data) {\r\n\tlet blur = \"blur(\"+data.blur+\")\";\r\n\tlet brightness = \"brightness(\"+data.brightness+\")\";\r\n\tlet contrast = \"contrast(\"+data.contrast+\")\";\r\n\tlet dropShadow = \"drop-shadow(\"+data.dropShadow+\")\";\r\n\tlet grayscale = \"grayscale(\"+data.grayscale+\")\";\r\n\tlet hueRotate = \"hue-rotate(\"+data.hueRotate+\")\";\r\n\tlet invert = \"invert(\"+data.invert+\")\";\r\n\tlet opacity = \"opacity(\"+data.opacity+\")\";\r\n\tlet saturate = \"saturate(\"+data.saturate+\")\";\r\n\tlet sepia = \"sepia(\"+data.sepia+\")\";\r\n\treturn [blur, brightness, contrast, grayscale, hueRotate, invert, opacity, saturate, sepia, dropShadow].join(\" \");\r\n}\r\n\r\nexport {copyOf, loadImage, rescale, mergeFilterStyle};","function ButtonComponent(props) {\r\n\treturn (\r\n\t\t<button data-name={props.name} className={props.className} onClick={props.onClick} style={props.style}>\r\n\t\t\t<div data-name={props.name} className={props.iconClass}></div>\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nfunction ImageInputComponent(props) {\r\n\treturn (\r\n\t<>\r\n\t\t<input id={props.id} hidden type=\"file\" name={props.name} accept = \"image/*\" onChange={props.onChange} />\r\n\t\t<label className={props.className} style={props.style} htmlFor={props.id}>\r\n\t\t\t<div className={props.iconClass} style={props.iconStyle}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t</label>\r\n\t</>\r\n\t);\r\n}\r\n\r\nfunction BottomMenuOptionComponent(props) {\r\n\treturn (\r\n\t\t<div className=\"config-menu-container\">\r\n\t\t\t{ props.options.map((option) => <div data-name={props.name} data-value={option.value} className={props.selected === option.value ? \"selected\" : \"\"} onClick={props.onClick}>{option.label}</div> ) }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport {ButtonComponent, ImageInputComponent, BottomMenuOptionComponent};","export default __webpack_public_path__ + \"static/media/no-color-icon.003dc96e.png\";","import React from 'react';\r\nimport noColorIcon from './icons/no-color-icon.png';\r\n\r\nclass TextAlignPicker extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"text-align-picker-container\">\r\n\t\t\t\t<div className={this.props.textAlign === \"left\" ? \"left-align-button selected\" : \"left-align-button\"} data-name=\"style\" data-prop=\"textAlign\" data-value=\"left\" onClick={this.props.handleChange}></div>\r\n\t\t\t\t<div className={this.props.textAlign === \"center\" ? \"center-align-button selected\" : \"center-align-button\"} data-name=\"style\" data-prop=\"textAlign\" data-value=\"center\" onClick={this.props.handleChange}></div>\r\n\t\t\t\t<div className={this.props.textAlign === \"right\" ? \"right-align-button selected\" : \"right-align-button\"} data-name=\"style\" data-prop=\"textAlign\" data-value=\"right\" onClick={this.props.handleChange}></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FONT = [\"Times New Roman\", \"Caveat\", \"Codystar\", \"Comfortaa\", \"Cookie\", \"Courgette\", \"Crafty Girls\", \"Dancing Script\", \"Gloria Hallelujah\", \"Handlee\", \"Limelight\", \"Luckiest Guy\", \"Lobster\", \"Monoton\", \"Pacifico\", \"Permanent Marker\", \"Sacramento\", \"Source Code Pro\"]\r\nclass FontPicker extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tleftClass : \"left-scroll-button\",\r\n\t\t\trightClass : \"right-scroll-button highlight\"\r\n\t\t};\r\n\t\tthis.container = React.createRef();\r\n\t\tthis.handleScroll = this.handleScroll.bind(this);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\t\r\n\thandleScroll(event) {\r\n\t\tlet className = {\r\n\t\t\tleftClass : \"left-scroll-button\",\r\n\t\t\trightClass : \"right-scroll-button\"\r\n\t\t}\r\n\t\tif(this.container.current.scrollLeft > 50) {\r\n\t\t\tclassName.leftClass = \"left-scroll-button highlight\";\r\n\t\t}\r\n\t\tif(this.container.current.offsetWidth + this.container.current.scrollLeft < this.container.current.scrollWidth - 50) {\r\n\t\t\tclassName.rightClass  = \"right-scroll-button highlight\";\r\n\t\t}\r\n\t\tthis.setState(className);\r\n\t}\r\n\t\r\n\thandleClick(event) {\r\n\t\tif(event.target.dataset.name === \"scroll-left\") {\r\n\t\t\tthis.container.current.scroll({ left : this.container.current.scrollLeft - this.container.current.offsetWidth, behavior : \"smooth\" });\r\n\t\t}else if(event.target.dataset.name === \"scroll-right\") {\r\n\t\t\tthis.container.current.scroll({ left : this.container.current.scrollLeft + this.container.current.offsetWidth, behavior : \"smooth\" });\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar fontElements = FONT.map((font, index) => {\r\n\t\t\treturn <div key={index} data-name=\"style\" data-prop=\"fontFamily\" data-value={font} className={this.props.fontFamily === font ? \"font-button selected\" : \"font-button\"} style={{fontFamily : font}} onClick={this.props.handleChange}>Aa</div>;\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"color-picker-wrapper\">\r\n\t\t\t\t<div data-name=\"scroll-left\" className={this.state.leftClass} onClick={this.handleClick}></div>\r\n\t\t\t\t<div className=\"font-picker-container\" onScroll={this.handleScroll} ref={this.container}>\r\n\t\t\t\t\t{fontElements}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-name=\"scroll-right\" className={this.state.rightClass} onClick={this.handleClick}></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ColorStylePicker extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<div data-name={this.props.styleProperty} data-value=\"normal\" className={this.props.colorStyle === \"normal\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.props.handleClick}>\r\n\t\t\t\t\t<div className=\"color-button\" style={this.props.normal.color === \"transparent\" ? {backgroundImage : \"url(\"+noColorIcon+\")\"} : {backgroundColor : this.props.normal.color}}></div>\r\n\t\t\t\t\t<div>Color</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-name={this.props.styleProperty} data-value=\"gradient\" className={this.props.colorStyle === \"gradient\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.props.handleClick}>\r\n\t\t\t\t\t<div className=\"color-button\" style={{backgroundImage : \"linear-gradient(\"+this.props.gradient.top+\",\"+this.props.gradient.bottom+\")\"}}></div>\r\n\t\t\t\t\t<div>Gradient</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-name={this.props.styleProperty} data-value=\"image\" className={this.props.colorStyle === \"image\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.props.handleClick}>\r\n\t\t\t\t\t<div className=\"color-button\" style={{backgroundImage : this.props.image.value}}></div>\r\n\t\t\t\t\t<div>Image</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{ this.props.colorStyle === \"normal\" && <ColorPicker color={this.props.normal.color} transparent={this.props.normal.transparent} property={this.props.normal.property} handleChange={this.props.handleChange} /> }\r\n\t\t\t{ this.props.colorStyle === \"gradient\" && \r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div data-name={this.props.gradient.property} data-value=\"top\" className={this.props.selectedGradient === \"top\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.props.handleClick}>\r\n\t\t\t\t\t\t<div className=\"color-button\" style={{backgroundColor : this.props.gradient.top}}></div>\r\n\t\t\t\t\t\t<div>Top</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div data-name={this.props.gradient.property} data-value=\"bottom\" className={this.props.selectedGradient === \"bottom\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.props.handleClick}>\r\n\t\t\t\t\t\t<div className=\"color-button\" style={{backgroundColor : this.props.gradient.bottom}}></div>\r\n\t\t\t\t\t\t<div>Bottom</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ColorPicker color={this.props.selectedGradient === \"top\" ? this.props.gradient.top : this.props.gradient.bottom} property={this.props.selectedGradient === \"top\" ? this.props.gradient.topProperty : this.props.gradient.bottomProperty} handleChange={this.props.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ this.props.colorStyle === \"image\" && \r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input id=\"color-style-image\" hidden type=\"file\" name={this.props.image.property} accept = \"image/*\" onChange={this.props.handleClick} />\r\n\t\t\t\t\t<label htmlFor=\"color-style-image\" className=\"font-image pointer\">\r\n\t\t\t\t\t\t<div className=\"image-button\" style={{backgroundImage : this.props.image.value}}>\r\n\t\t\t\t\t\t\t<div className=\"edit-icon\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst COLORS = [\"#000000\", \"#FFFFFF\",\r\n\t\t\t\"#FFCDD2\", \"#F8BBD0\", \"#E1BEE7\", \"#D1C4E9\", \"#C5CAE9\", \"#BBDEFB\", \"#B3E5FC\", \"#B2EBF2\", \"#B2DFDB\", \"#C8E6C9\", \"#DCEDC8\", \"#F0F4C3\", \"#FFF9C4\", \"#FFECB3\", \"#FFE0B2\", \"#FFCCBC\", \"#D7CCC8\", \"#F5F5F5\",\r\n\t\t\t\"#EF5350\", \"#EC407A\", \"#AB47BC\", \"#7E57C2\", \"#5C6BC0\", \"#42A5F5\", \"#29B6F6\", \"#26C6DA\", \"#26A69A\", \"#66BB6A\", \"#9CCC65\", \"#D4E157\", \"#FFEE58\", \"#FFCA28\", \"#FFA726\", \"#FF7043\", \"#8D6E63\", \"#BDBDBD\",\r\n\t\t\t\"#F44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\",\r\n\t\t\t\"#D32F2F\", \"#C2185B\", \"#7B1FA2\", \"#512DA8\", \"#303F9F\", \"#1976D2\", \"#0288D1\", \"#0097A7\", \"#00796B\", \"#388E3C\", \"#689F38\", \"#AFB42B\", \"#FBC02D\", \"#FFA000\", \"#F57C00\", \"#E64A19\", \"#5D4037\", \"#616161\",\r\n\t\t\t\"#B71C1C\", \"#880E4F\", \"#4A148C\", \"#311B92\", \"#1A237E\", \"#0D47A1\", \"#01579B\", \"#006064\", \"#004D40\", \"#1B5E20\", \"#33691E\", \"#827717\", \"#F57F17\", \"#FF6F00\", \"#E65100\", \"#BF360C\", \"#3E2723\", \"#212121\"\r\n\t\t\t];\r\nclass ColorPicker extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tleftClass : \"left-scroll-button\",\r\n\t\t\trightClass : \"right-scroll-button highlight\"\r\n\t\t}\r\n\t\tthis.container = React.createRef();\r\n\t\tthis.handleScroll = this.handleScroll.bind(this);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\t\r\n\thandleScroll(event) {\r\n\t\tlet className = {\r\n\t\t\tleftClass : \"left-scroll-button\",\r\n\t\t\trightClass : \"right-scroll-button\"\r\n\t\t}\r\n\t\tif(this.container.current.scrollLeft > 50) {\r\n\t\t\tclassName.leftClass = \"left-scroll-button highlight\";\r\n\t\t}\r\n\t\tif(this.container.current.offsetWidth + this.container.current.scrollLeft < this.container.current.scrollWidth - 50) {\r\n\t\t\tclassName.rightClass  = \"right-scroll-button highlight\";\r\n\t\t}\r\n\t\tthis.setState(className);\r\n\t}\r\n\t\r\n\thandleClick(event) {\r\n\t\tif(event.target.dataset.name === \"scroll-left\") {\r\n\t\t\tthis.container.current.scroll({ left : this.container.current.scrollLeft - this.container.current.offsetWidth, behavior : \"smooth\" });\r\n\t\t}else if(event.target.dataset.name === \"scroll-right\") {\r\n\t\t\tthis.container.current.scroll({ left : this.container.current.scrollLeft + this.container.current.offsetWidth, behavior : \"smooth\" });\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar colorElements = COLORS.map((color, index) => {\r\n\t\t\treturn <div key={index} data-name=\"style\" data-prop={this.props.property} data-value={color} className={this.props.color === color ? \"color-button selected\" : \"color-button\"} style={{backgroundColor : color, borderColor : color}} onClick={this.props.handleChange}/>;\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"color-picker-wrapper\">\r\n\t\t\t\t<div data-name=\"scroll-left\" className={this.state.leftClass} onClick={this.handleClick}></div>\r\n\t\t\t\t<div className=\"color-picker-container\" onScroll={this.handleScroll} ref={this.container}>\r\n\t\t\t\t\t{this.props.transparent && <div data-name=\"style\" data-prop={this.props.property} data-value=\"transparent\" className={this.props.color === \"transparent\" ? \"no-color-icon-button selected\" : \"no-color-icon-button\"} onClick={this.props.handleChange}/> }\r\n\t\t\t\t\t{colorElements}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-name=\"scroll-right\" className={this.state.rightClass} onClick={this.handleClick}></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass FontStylePicker extends React.Component {\r\n\trender() {\r\n\t\tlet italic = this.props.fontStyle === \"normal\" ? \"italic\" : \"normal\";\r\n\t\tlet bold = this.props.fontWeight === \"normal\" ? \"bold\" : \"normal\";\r\n\t\tlet underline = this.props.textDecoration === \"none\" ? \"underline\" : \"none\";\r\n\t\treturn (\r\n\t\t\t<div className=\"picker-container\">\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"fontStyle\" data-value={italic} className={italic === \"italic\" ? \"font-style-button\" : \"font-style-button selected\"} onClick={this.props.handleChange} style={{fontStyle: \"italic\"}}>italic</div>\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"fontWeight\" data-value={bold} className={bold === \"bold\" ? \"font-style-button\" : \"font-style-button selected\"} onClick={this.props.handleChange} style={{fontWeight: \"bold\"}}>bold</div>\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"textDecoration\" data-value={underline} className={underline === \"underline\" ? \"font-style-button\" : \"font-style-button selected\"} onClick={this.props.handleChange} style={{textDecoration: \"underline\"}}>underline</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass BorderStylePicker extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"picker-container\">\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"borderStyle\" data-value=\"solid\" className={this.props.borderStyle === \"solid\" ? \"border-solid-button selected\" : \"border-solid-button\"} onClick={this.props.handleChange}>solid</div>\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"borderStyle\" data-value=\"dotted\" className={this.props.borderStyle === \"dotted\" ? \"border-dotted-button selected\" : \"border-dotted-button\"} onClick={this.props.handleChange}>dotted</div>\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"borderStyle\" data-value=\"dashed\" className={this.props.borderStyle === \"dashed\" ? \"border-dashed-button selected\" : \"border-dashed-button\"} onClick={this.props.handleChange}>dashed</div>\r\n\t\t\t\t<div data-name=\"style\" data-prop=\"borderStyle\" data-value=\"double\" className={this.props.borderStyle === \"double\" ? \"border-double-button selected\" : \"border-double-button\"} onClick={this.props.handleChange}>double</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass RangePicker extends React.Component {\r\n\trender() {\r\n\t\tlet min = parseInt(this.props.min);\r\n\t\tlet max = parseInt(this.props.max);\r\n\t\tlet value = parseInt(this.props.value);\r\n\t\tvalue = parseInt((value - min)/(max - min) * 100);\r\n\t\treturn (\r\n\t\t\t<div className=\"range-container\">\r\n\t\t\t\t<div className=\"range-label\">{this.props.label}</div>\r\n\t\t\t\t<input type=\"range\" name={this.props.name} data-prop={this.props.property} value={this.props.value} min={this.props.min} max={this.props.max} step={this.props.step ? this.props.step : \"1\"} onChange={this.props.handleChange} />\r\n\t\t\t\t<div className=\"range-value\">{this.props.convertToPercent ? value + this.props.suffix : this.props.value + this.props.suffix}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport {TextAlignPicker, FontPicker, ColorStylePicker, ColorPicker, FontStylePicker, BorderStylePicker, RangePicker};","import React from 'react';\r\n\r\nimport {loadImage} from './Utility.js';\r\nimport {ColorPicker} from './PickerComponents.js';\r\nimport {ButtonComponent, ImageInputComponent, BottomMenuOptionComponent} from './CommonComponents.js';\r\n\r\nclass BackgroundConfigComponent extends React.Component {\r\n\tstatic menu_options = [\r\n\t\t{label : \"Color\", value : \"backgroundColor\"},\r\n\t\t{label : \"Gradient\", value : \"backgroundGradient\"},\r\n\t\t{label : \"Image\", value : \"backgroundImage\"}\r\n\t];\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\tObject.assign(this.state, this.props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\t\r\n\thandleClick(event) {\r\n\t\tif(event.currentTarget.dataset.name === \"backgroundStyle\") {\r\n\t\t\tthis.setState({backgroundStyle : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.dataset.name === \"ok\") {\r\n\t\t\tthis.props.handleBackgroundSave(this.state);\r\n\t\t}else if(event.currentTarget.dataset.name === \"cancel\") {\r\n\t\t\tthis.props.handleBackgroundSave();\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleChange(event) {\r\n\t\tif(event.currentTarget.name === \"backgroundImage\") {\r\n\t\t\tif(event.target.files.length > 0){\r\n\t\t\t\tlet file = event.target.files[0];\r\n\t\t\t\tloadImage(file, (response) => { this.setState({backgroundImage : \"url(\"+response+\")\"}) });\r\n\t\t\t}\r\n\t\t}else if(event.currentTarget.dataset.prop === \"backgroundColor\") {\r\n\t\t\tthis.setState({backgroundColor : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.dataset.prop === \"backgroundGradientTop\" || event.currentTarget.dataset.prop === \"backgroundGradientBottom\") {\r\n\t\t\tlet gradient = this.state.backgroundGradient.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\");\r\n\t\t\tgradient[event.currentTarget.dataset.prop === \"backgroundGradientTop\" ? 0 : 1] = event.currentTarget.dataset.value;\r\n\t\t\tthis.setState({backgroundGradient : \"linear-gradient(\"+gradient[0]+\",\"+gradient[1]+\")\"});\r\n\t\t}else if(event.currentTarget.dataset.prop === \"backgroundImageSize\") {\r\n\t\t\tthis.setState({backgroundImageSize : event.currentTarget.dataset.value});\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar [width, height] = this.props.backgroundSize.split(\" x \");\r\n\t\tif(document.body.offsetWidth < document.body.offsetHeight) {\r\n\t\t\theight = ((height * 50)/width) + \"vmin\";\r\n\t\t\twidth = \"50vmin\";\r\n\t\t} else {\r\n\t\t\twidth = ((width * 50)/height) + \"vmin\";\r\n\t\t\theight = \"50vmin\";\r\n\t\t}\r\n\t\tlet backgroundStyle = {\r\n\t\t\twidth : width,\r\n\t\t\theight : height,\r\n\t\t\tbackgroundSize : this.state.backgroundImageSize,\r\n\t\t\tbackgroundColor : this.state.backgroundColor,\r\n\t\t\tbackgroundPosition : \"center\",\r\n\t\t\tbackgroundRepeat : \"no-repeat\",\r\n\t\t\tbackgroundImage : this.state.backgroundStyle === \"backgroundColor\" ? \"\" : (this.state.backgroundStyle === \"backgroundGradient\" ? this.state.backgroundGradient : this.state.backgroundImage)\r\n\t\t};\r\n\t\t\r\n\t\tlet menu_config;\r\n\t\tif(this.state.backgroundStyle === \"backgroundColor\") {\r\n\t\t\tmenu_config = <ColorPicker color={this.state.backgroundColor} property=\"backgroundColor\" handleChange={this.handleChange} />;\r\n\t\t}else if(this.state.backgroundStyle === \"backgroundGradient\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<>\r\n\t\t\t\t<ColorPicker color={this.state.backgroundGradient.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\")[0]} property=\"backgroundGradientTop\" handleChange={this.handleChange} />\r\n\t\t\t\t<ColorPicker color={this.state.backgroundGradient.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\")[1]} property=\"backgroundGradientBottom\" handleChange={this.handleChange} />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}else if(this.state.backgroundStyle === \"backgroundImage\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ImageInputComponent id=\"color-style-image\" name=\"backgroundImage\" onChange={this.handleChange} className=\"font-image pointer\" style={{bottom:\"110px\"}} iconClass=\"image-button\" iconStyle={{backgroundImage : this.state.backgroundImage}}>\r\n\t\t\t\t\t\t<div className=\"edit-icon\"></div>\r\n\t\t\t\t\t</ImageInputComponent>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div data-prop=\"backgroundImageSize\" data-value=\"cover\" className={this.state.backgroundImageSize === \"cover\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.handleChange}>Cover</div>\r\n\t\t\t\t\t<div data-prop=\"backgroundImageSize\" data-value=\"contain\" className={this.state.backgroundImageSize === \"contain\" ? \"color-style-button selected\" : \"color-style-button\"} onClick={this.handleChange}>Contain</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"overlay\" onClick={this.handleClick}>\r\n\t\t\t\t<ButtonComponent name=\"ok\" className=\"absolute top-margin right-margin round-button\" onClick={this.handleClick} iconClass=\"ok-icon\"/>\r\n\t\t\t\t<ButtonComponent name=\"cancel\" className=\"absolute top-margin left-margin round-button\" onClick={this.handleClick} iconClass=\"cancel-icon\"/>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"screen-center\" style={{top : \"calc(50% - 90px)\"}}>\r\n\t\t\t\t\t<div style={backgroundStyle}></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"config-background config-container\">\r\n\t\t\t\t\t{menu_config}\r\n\t\t\t\t\t<BottomMenuOptionComponent name=\"backgroundStyle\" options={BackgroundConfigComponent.menu_options} selected={this.state.backgroundStyle} onClick={this.handleClick}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BackgroundConfigComponent;","import React from 'react';\r\n\r\nimport {rescale, mergeFilterStyle} from './Utility.js';\r\nimport {RangePicker} from './PickerComponents.js';\r\n\r\nclass DraggableComponent extends React.PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrX : 0,\r\n\t\t\tcurrY : 0,\r\n\t\t\tprevX : 0,\r\n\t\t\tprevY : 0\r\n\t\t};\r\n\t\tthis.elem = React.createRef();\r\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\r\n\t\tthis.handleDrag = this.handleDrag.bind(this);\r\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\r\n\t\t\r\n\t\tthis.leftLineElem = React.createRef();\r\n\t\tthis.topLineElem = React.createRef();\r\n\t\tthis.rightLineElem = React.createRef();\r\n\t\tthis.bottomLineElem = React.createRef();\r\n\t}\r\n\t\r\n\thandleMouseDown(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tthis.props.container.current.onmouseup = this.handleMouseUp;\r\n\t\tthis.props.container.current.onmousemove = this.handleDrag;\r\n\t\tthis.props.container.current.ontouchend = this.handleMouseUp;\r\n\t\tthis.props.container.current.ontouchmove = this.handleDrag;\r\n\t\tif(event.type === \"touchstart\" && event.touches.length === 1) {\r\n\t\t\tevent = event.touches[0] || event.changedTouches[0];\r\n\t\t}\r\n\t\tthis.setState({ prevX : event.clientX, prevY : event.clientY});\r\n\t\tthis.elem.current.classList.add(\"grabbing\");\r\n\t\tthis.props.handleDraggableClick(this.elem.current.id);\r\n\t}\r\n\t\r\n\thandleDrag(event) {\r\n\t\tevent.stopPropagation();\r\n\t\tif(event.type === \"touchmove\" && event.touches.length === 1) {\r\n\t\t\tevent = event.touches[0] || event.changedTouches[0];\r\n\t\t}\r\n\t\tlet currX = this.state.prevX - event.clientX;\r\n\t\tlet currY = this.state.prevY - event.clientY;\r\n\t\tlet prevX = event.clientX;\r\n\t\tlet prevY = event.clientY;\r\n\t\tthis.setState({currX : currX, currY : currY, prevX : prevX, prevY : prevY});\r\n\t}\r\n\t\r\n\thandleMouseUp(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tthis.props.container.current.onmouseup = null;\r\n\t\tthis.props.container.current.onmousemove = null;\r\n\t\tthis.props.container.current.ontouchend = null;\r\n\t\tthis.props.container.current.ontouchmove = null;\r\n\t\tthis.elem.current.classList.remove(\"grabbing\");\r\n\t}\r\n\t\r\n\tgetSnapshotBeforeUpdate(prevProps, prevState) {\r\n\t\treturn {\r\n\t\t\ttop : this.elem.current.offsetTop - this.state.currY,\r\n\t\t\tleft : this.elem.current.offsetLeft - this.state.currX,\r\n\t\t\twidth : this.elem.current.offsetWidth,\r\n\t\t\theight : this.elem.current.offsetHeight,\r\n\t\t\tcontainerWidth : this.props.container.current.offsetWidth,\r\n\t\t\tcontainerHeight : this.props.container.current.offsetHeight\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif(snapshot && (this.state.currX !== prevState.currX || this.state.currY !== prevState.currY)) {\r\n\t\t\tif(snapshot.left < 0) {\r\n\t\t\t\tsnapshot.left = 0;\r\n\t\t\t}\r\n\t\t\tif(snapshot.top < 0) {\r\n\t\t\t\tsnapshot.top = 0;\r\n\t\t\t}\r\n\t\t\tif(snapshot.left + snapshot.width > snapshot.containerWidth) {\r\n\t\t\t\tsnapshot.left = snapshot.containerWidth - snapshot.width;\r\n\t\t\t}\r\n\t\t\tif(snapshot.top + snapshot.height > snapshot.containerHeight) {\r\n\t\t\t\tsnapshot.top = snapshot.containerHeight - snapshot.height;\r\n\t\t\t}\r\n\t\t\tthis.elem.current.style.top = (snapshot.top*100/snapshot.containerHeight) + \"%\";\r\n\t\t\tthis.elem.current.style.left = (snapshot.left*100/snapshot.containerWidth) + \"%\";\r\n\t\t}\r\n\t\tif(this.props.selected) {\r\n\t\t\tthis.leftLineElem.current.style.top = (snapshot.top + snapshot.height/2) + \"px\";\r\n\t\t\tthis.leftLineElem.current.style.width = snapshot.left + \"px\";\r\n\t\t\tthis.leftLineElem.current.innerText = parseInt(snapshot.left) + \"px\";\r\n\t\t\t\r\n\t\t\tthis.topLineElem.current.style.left = (snapshot.left + snapshot.width/2) + \"px\";\r\n\t\t\tthis.topLineElem.current.style.height = snapshot.top + \"px\";\r\n\t\t\tthis.topLineElem.current.innerHTML = \"<div>\"+ parseInt(snapshot.top) + \"px</div>\";\r\n\t\t\t\r\n\t\t\tthis.rightLineElem.current.style.top = (snapshot.top + snapshot.height/2) + \"px\";\r\n\t\t\tthis.rightLineElem.current.style.width = (snapshot.containerWidth - snapshot.left - snapshot.width) + \"px\";\r\n\t\t\tthis.rightLineElem.current.innerText = parseInt(snapshot.containerWidth - snapshot.left - snapshot.width) + \"px\";\r\n\t\t\t\r\n\t\t\tthis.bottomLineElem.current.style.left = (snapshot.left + snapshot.width/2) + \"px\";\r\n\t\t\tthis.bottomLineElem.current.style.height = (snapshot.containerHeight - snapshot.top - snapshot.height) + \"px\";\r\n\t\t\tthis.bottomLineElem.current.innerHTML = \"<div>\" + parseInt(snapshot.containerHeight - snapshot.top - snapshot.height) + \"px</div>\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.elem.current.style.top = \"calc(50% - \" + (this.elem.current.offsetHeight/2) +\"px )\";\r\n\t\tthis.elem.current.style.left = \"calc(50% - \" + (this.elem.current.offsetWidth/2) +\"px )\";\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet elem = null;\r\n\t\tif(this.props.image) {\r\n\t\t\t\r\n\t\t\tlet image_size_style = {\r\n\t\t\t\ttop : rescale(this.props.crop.offsetTop, parseFloat(this.props.crop.top), parseFloat(this.props.style.height)) + \"px\",\r\n\t\t\t\tleft : rescale(this.props.crop.offsetLeft, parseFloat(this.props.crop.left), parseFloat(this.props.style.width)) + \"px\",\r\n\t\t\t\twidth : rescale(this.props.crop.offsetWidth, parseFloat(this.props.crop.width), parseFloat(this.props.style.width)) + \"px\",\r\n\t\t\t\theight : rescale(this.props.crop.offsetHeight, parseFloat(this.props.crop.height), parseFloat(this.props.style.height)) + \"px\"\r\n\t\t\t}\r\n\t\t\telem = (<>\r\n\t\t\t\t{ this.props.selected && \r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div ref={this.leftLineElem} className=\"left-dotted-line\"></div>\r\n\t\t\t\t\t\t<div ref={this.topLineElem} className=\"top-dotted-line\"></div>\t\r\n\t\t\t\t\t\t<div ref={this.rightLineElem} className=\"right-dotted-line\"></div>\r\n\t\t\t\t\t\t<div ref={this.bottomLineElem} className=\"bottom-dotted-line\"></div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<div id={this.props.id} style={{ transform : this.props.style.transform }} className={this.props.selected ? \"draggable-selected absolute draggable\" : \"absolute draggable\"} onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} ref={this.elem}>\r\n\t\t\t\t\t<div className=\"draggable overflow-hidden\" style={image_size_style}>\r\n\t\t\t\t\t\t<img className=\"draggable\" style={{ filter : mergeFilterStyle(this.props.filter), width : this.props.style.width, marginTop : \"-\"+image_size_style.top, marginLeft : \"-\"+image_size_style.left }} src={this.props.image} onLoad={(event) => this.props.handleImageHeight(this.props.id, event.currentTarget.offsetHeight)} alt=\"error\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"draggable selected-overlay\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</>);\r\n\t\t\r\n\t\t}else if(this.props.text) {\r\n\t\t\t\r\n\t\t\tlet {fontSize, transform, backgroundColor, borderColor, borderWidth, borderStyle, borderRadius, textShadow, opacity, ...style} = this.props.style;\r\n\t\t\tif(this.props.fontColorStyle === \"gradient\") {\r\n\t\t\t\tstyle.backgroundImage = this.props.fontGradientColor;\r\n\t\t\t}else if(this.props.fontColorStyle === \"image\") {\r\n\t\t\t\tstyle.backgroundImage = this.props.fontImage;\r\n\t\t\t}\r\n\t\t\tlet backgroundStyle = {backgroundColor, borderColor, borderWidth, borderStyle, borderRadius, opacity};\r\n\t\t\tif(this.props.backgroundColorStyle === \"gradient\") {\r\n\t\t\t\tbackgroundStyle.backgroundImage = this.props.backgroundGradientColor;\r\n\t\t\t}else if(this.props.backgroundColorStyle === \"image\") {\r\n\t\t\t\tbackgroundStyle.backgroundImage = this.props.backgroundImage;\r\n\t\t\t}\r\n\t\t\telem = ( <>\r\n\t\t\t\t{ this.props.selected && \r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div ref={this.leftLineElem} className=\"left-dotted-line\"></div>\r\n\t\t\t\t\t\t<div ref={this.topLineElem} className=\"top-dotted-line\"></div>\t\r\n\t\t\t\t\t\t<div ref={this.rightLineElem} className=\"right-dotted-line\"></div>\r\n\t\t\t\t\t\t<div ref={this.bottomLineElem} className=\"bottom-dotted-line\"></div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<div id={this.props.id} style={{fontSize, transform}} className={this.props.selected ? \"draggable-selected absolute draggable\" : \"absolute draggable\"} onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} ref={this.elem}>\r\n\t\t\t\t\t<div style={style} className={this.props.fontColorStyle !== \"normal\" ? \"background-font draggable\" : \"draggable\"}>\r\n\t\t\t\t\t\t<div className=\"text-background\" style={backgroundStyle}></div>\r\n\t\t\t\t\t\t<div style={{textShadow : textShadow, padding : style.padding}} className=\"text-shadow\">{this.props.text}</div>\r\n\t\t\t\t\t\t<div className=\"draggable\">{this.props.text}</div>\r\n\t\t\t\t\t\t<div className=\"draggable selected-overlay\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</> );\r\n\t\t\t\r\n\t\t}\r\n\t\treturn elem;\r\n\t}\r\n}\r\n\r\nclass DraggableConfigComponent extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"config-container\" style={{right : \"80px\"}}>\r\n\t\t\t\t<div className=\"draggable-config-container\">\r\n\t\t\t\t\t<RangePicker name=\"size\" label=\"Size\" value={this.props.size.replace(\"px\", \"\")} convertToPercent=\"true\" suffix=\"%\" min={this.props.minSize} max={this.props.maxSize} step={this.props.step} handleChange={this.props.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"rotate\" label=\"Rotate\" value={this.props.rotate.replace(\"rotate(\", \"\").replace(\"deg)\", \"\")} suffix=\"deg\" min=\"-180\" max=\"180\" step=\"5\" handleChange={this.props.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport {DraggableComponent, DraggableConfigComponent};","import React from 'react';\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\nimport {copyOf, loadImage} from './Utility.js';\r\nimport {TextAlignPicker, FontPicker, ColorStylePicker, ColorPicker, FontStylePicker, BorderStylePicker, RangePicker} from './PickerComponents.js';\r\nimport {ButtonComponent, BottomMenuOptionComponent} from './CommonComponents.js';\r\n\r\nclass TextConfigComponent extends React.Component {\r\n\tstatic menu_options = [\r\n\t\t{label : \"Font\", value : \"font-config\"},\r\n\t\t{label : \"Shadow\", value : \"text-shadow-config\"},\r\n\t\t{label : \"Background\", value : \"background-config\"},\r\n\t\t{label : \"Border\", value : \"border-config\"}\r\n\t];\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tid : \"txt_\"+Date.now(),\r\n\t\t\ttext : \"\",\r\n\t\t\tstyle : {\r\n\t\t\t\tposition : \"relative\",\r\n\t\t\t\ttextAlign : \"center\",\r\n\t\t\t\tfontFamily : \"Times New Roman\",\r\n\t\t\t\tcolor : \"#000000\",\r\n\t\t\t\tfontStyle : \"normal\",\r\n\t\t\t\tfontWeight : \"normal\",\r\n\t\t\t\ttextDecoration : \"none\",\r\n\t\t\t\ttextShadow : \"1px 1px 2px transparent\",\r\n\t\t\t\tbackgroundColor : \"transparent\",\r\n\t\t\t\tpadding : \"3px\",\r\n\t\t\t\tborderColor : \"transparent\",\r\n\t\t\t\tborderStyle : \"solid\",\r\n\t\t\t\tborderWidth : \"0px\",\r\n\t\t\t\tborderRadius : \"0px\",\r\n\t\t\t\topacity : 1,\r\n\t\t\t\twhiteSpace : \"pre-wrap\"\r\n\t\t\t},\r\n\t\t\tselectedOption : \"\",\r\n\t\t\tselectedFontGradient : \"top\",\r\n\t\t\tfontColorStyle : \"normal\",\r\n\t\t\tfontGradientColor : \"linear-gradient(#9C27B0,#03A9F4)\",\r\n\t\t\tfontImage : \"linear-gradient(to left, violet, indigo, green, blue, yellow, orange, red)\",\r\n\t\t\tselectedBackgroundGradient : \"top\",\r\n\t\t\tbackgroundColorStyle : \"normal\",\r\n\t\t\tbackgroundGradientColor : \"linear-gradient(#D1C4E9,#B2EBF2)\",\r\n\t\t\tbackgroundImage : \"linear-gradient(to left, #673AB7, #2196F3, #4CAF50, #00BCD4, #FFEB3B, #FF9800, #FF5722)\",\r\n\t\t\t\r\n\t\t}\r\n\t\tif(props.data) {\r\n\t\t\tthis.state = copyOf(props.data);\r\n\t\t\tthis.state.style.transform = undefined;\r\n\t\t\tthis.state.style.fontSize = undefined;\r\n\t\t\tthis.state.selectedOption = \"\";\r\n\t\t}\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleTextChange = this.handleTextChange.bind(this);\r\n\t}\r\n\t\r\n\thandleClick(event) {\r\n\t\tif(event.currentTarget.dataset.name === \"selectedOption\") {\r\n\t\t\tif(this.state.selectedOption === event.currentTarget.dataset.value) {\r\n\t\t\t\tthis.setState({selectedOption : \"\"});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ selectedOption : event.currentTarget.dataset.value});\r\n\t\t\t}\t\r\n\t\t}else if(event.currentTarget.dataset.name === \"fontColorStyle\") {\r\n\t\t\tthis.setState({fontColorStyle : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.dataset.name === \"selectedFontGradient\") {\r\n\t\t\tthis.setState({selectedFontGradient : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.name === \"fontImage\") {\r\n\t\t\tif(event.target.files.length > 0){\r\n\t\t\t\tlet file = event.target.files[0];\r\n\t\t\t\tloadImage(file, (response) => { this.setState({fontImage : \"url(\"+response+\")\"}) });\r\n\t\t\t}\r\n\t\t}else if(event.currentTarget.dataset.name === \"backgroundColorStyle\") {\r\n\t\t\tthis.setState({backgroundColorStyle : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.dataset.name === \"selectedBackgroundGradient\") {\r\n\t\t\tthis.setState({selectedBackgroundGradient : event.currentTarget.dataset.value});\r\n\t\t}else if(event.currentTarget.name === \"backgroundImage\") {\r\n\t\t\tif(event.target.files.length > 0){\r\n\t\t\t\tlet file = event.target.files[0];\r\n\t\t\t\tloadImage(file, (response) => { this.setState({backgroundImage : \"url(\"+response+\")\"}) });\r\n\t\t\t}\r\n\t\t}else if(event.currentTarget.dataset.name === \"ok\") {\r\n\t\t\tlet data = copyOf(this.state);\r\n\t\t\tthis.props.onSave(data);\r\n\t\t}else if(event.currentTarget.dataset.name === \"cancel\") {\r\n\t\t\tthis.props.onSave();\r\n\t\t}else{\r\n\t\t\tthis.setState({selectedOption : \"\"});\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleChange(event) {\r\n\t\tif(event.currentTarget.name === \"style\") {\r\n\t\t\tlet style = copyOf(this.state.style);\r\n\t\t\tif(event.currentTarget.dataset.prop.includes(\"textShadow\")) {\r\n\t\t\t\tlet [textShadowLeft, textShadowTop, textShadowBlur, textShadowColor] = style.textShadow.split(\" \");\r\n\t\t\t\tlet obj = {textShadowLeft, textShadowTop, textShadowBlur, textShadowColor};\r\n\t\t\t\tobj[event.currentTarget.dataset.prop] = event.currentTarget.value + \"px\";\r\n\t\t\t\tstyle.textShadow = [obj.textShadowLeft, obj.textShadowTop, obj.textShadowBlur, obj.textShadowColor].join(\" \");\r\n\t\t\t}else if(event.currentTarget.dataset.prop === \"opacity\"){\r\n\t\t\t\tstyle[event.currentTarget.dataset.prop] = event.currentTarget.value;\r\n\t\t\t}else{\r\n\t\t\t\tstyle[event.currentTarget.dataset.prop] = event.currentTarget.value + \"px\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ style : style });\r\n\t\t}else if(event.currentTarget.dataset.name === \"style\") {\r\n\t\t\t\r\n\t\t\tif(event.currentTarget.dataset.prop === \"fontGradientTop\" || event.currentTarget.dataset.prop === \"fontGradientBottom\") {\r\n\t\t\t\tlet gradient = this.state.fontGradientColor.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\");\r\n\t\t\t\tgradient[event.currentTarget.dataset.prop === \"fontGradientTop\" ? 0 : 1] = event.currentTarget.dataset.value;\r\n\t\t\t\tthis.setState({fontGradientColor : \"linear-gradient(\"+gradient[0]+\",\"+gradient[1]+\")\"});\r\n\t\t\t} else if(event.currentTarget.dataset.prop === \"backgroundGradientTop\" || event.currentTarget.dataset.prop === \"backgroundGradientBottom\") {\r\n\t\t\t\tlet gradient = this.state.backgroundGradientColor.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\");\r\n\t\t\t\tgradient[event.currentTarget.dataset.prop === \"backgroundGradientTop\" ? 0 : 1] = event.currentTarget.dataset.value;\r\n\t\t\t\tthis.setState({backgroundGradientColor : \"linear-gradient(\"+gradient[0]+\",\"+gradient[1]+\")\"});\r\n\t\t\t} else if(event.currentTarget.dataset.prop.includes(\"textShadow\")) {\r\n\t\t\t\tlet style = copyOf(this.state.style);\r\n\t\t\t\tlet [textShadowLeft, textShadowTop, textShadowBlur, textShadowColor] = style.textShadow.split(\" \");\r\n\t\t\t\tlet obj = {textShadowLeft, textShadowTop, textShadowBlur, textShadowColor};\r\n\t\t\t\tobj[event.currentTarget.dataset.prop] = event.currentTarget.dataset.value;\r\n\t\t\t\tstyle.textShadow = [obj.textShadowLeft, obj.textShadowTop, obj.textShadowBlur, obj.textShadowColor].join(\" \");\r\n\t\t\t\tthis.setState({ style : style });\r\n\t\t\t} else {\r\n\t\t\t\tlet style = copyOf(this.state.style);\r\n\t\t\t\tstyle[event.currentTarget.dataset.prop] = event.currentTarget.dataset.value;\r\n\t\t\t\tthis.setState({ style : style });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleTextChange(event) {\r\n\t\tthis.setState({ text : event.currentTarget.innerText});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet colorStyleProps = {\r\n\t\t\tfontColorStyle : this.state.fontColorStyle,\r\n\t\t\tselectedFontGradient : this.state.selectedFontGradient,\r\n\t\t\tfontGradientColor : this.state.fontGradientColor,\r\n\t\t\tfontImage : this.state.fontImage,\r\n\t\t\tbackgroundColorStyle : this.state.backgroundColorStyle,\r\n\t\t\tselectedBackgroundGradient : this.state.selectedBackgroundGradient,\r\n\t\t\tbackgroundGradientColor : this.state.backgroundGradientColor,\r\n\t\t\tbackgroundImage : this.state.backgroundImage\r\n\t\t};\r\n\t\t\r\n\t\tlet backgroundGradient = this.state.backgroundGradientColor.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\");\r\n\t\tlet fontGradient = this.state.fontGradientColor.replace(\"linear-gradient(\", \"\").replace(\")\", \"\").split(\",\");\r\n\t\tlet [textShadowLeft, textShadowTop, textShadowBlur, textShadowColor] = this.state.style.textShadow.split(\" \");\r\n\t\t\r\n\t\tlet menu_config;\r\n\t\tif(this.state.selectedOption === \"font-config\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TextAlignPicker textAlign={this.state.style.textAlign} handleChange={this.handleChange} />\r\n\t\t\t\t\t<FontPicker fontFamily={this.state.style.fontFamily} handleChange={this.handleChange} />\r\n\t\t\t\t\t<ColorStylePicker colorStyle={this.state.fontColorStyle} selectedGradient={this.state.selectedFontGradient} styleProperty=\"fontColorStyle\" normal={{color : this.state.style.color, property : \"color\"}} gradient={{property : \"selectedFontGradient\", top : fontGradient[0], bottom : fontGradient[1], selectedGradient : this.state.selectedFontGradient, topProperty : \"fontGradientTop\", bottomProperty : \"fontGradientBottom\"}} image={{property : \"fontImage\", value : this.state.fontImage}} handleClick={this.handleClick} handleChange={this.handleChange}/>\r\n\t\t\t\t\t<FontStylePicker fontStyle={this.state.style.fontStyle} fontWeight={this.state.style.fontWeight} textDecoration={this.state.style.textDecoration} handleChange={this.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}else if(this.state.selectedOption === \"text-shadow-config\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ColorPicker color={textShadowColor} transparent=\"true\" property=\"textShadowColor\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"textShadowLeft\" label=\"Left\" value={textShadowLeft.replace(\"px\", \"\")} suffix=\"px\" min=\"-20\" max=\"20\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"textShadowTop\" label=\"Top\" value={textShadowTop.replace(\"px\", \"\")} suffix=\"px\" min=\"-20\" max=\"20\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"textShadowBlur\" label=\"Blur\" value={textShadowBlur.replace(\"px\", \"\")} suffix=\"%\" min=\"0\" max=\"20\" handleChange={this.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}else if(this.state.selectedOption === \"background-config\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ColorStylePicker colorStyle={this.state.backgroundColorStyle} selectedGradient={this.state.selectedBackgroundGradient} styleProperty=\"backgroundColorStyle\" normal={{color : this.state.style.backgroundColor, property : \"backgroundColor\", transparent : true}} gradient={{property : \"selectedBackgroundGradient\", top : backgroundGradient[0], bottom : backgroundGradient[1], selectedGradient : this.state.selectedBackgroundGradient, topProperty : \"backgroundGradientTop\", bottomProperty : \"backgroundGradientBottom\"}} image={{property : \"backgroundImage\", value : this.state.backgroundImage}} handleClick={this.handleClick} handleChange={this.handleChange}/>\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"padding\" label=\"Size\" value={this.state.style.padding.replace(\"px\", \"\")} suffix=\"px\" min=\"0\" max=\"50\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"opacity\" label=\"Opacity\" value={this.state.style.opacity} suffix=\"%\" convertToPercent=\"true\" min=\"0\" max=\"1\" step=\"0.1\" handleChange={this.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}else if(this.state.selectedOption === \"border-config\") {\r\n\t\t\tmenu_config = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ColorPicker color={this.state.style.borderColor} property=\"borderColor\" transparent=\"true\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<BorderStylePicker borderStyle={this.state.style.borderStyle} handleChange={this.handleChange}/>\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"borderWidth\" label=\"Size\" value={this.state.style.borderWidth.replace(\"px\", \"\")} suffix=\"px\" min=\"0\" max=\"10\" handleChange={this.handleChange} />\r\n\t\t\t\t\t<RangePicker name=\"style\" property=\"borderRadius\" label=\"Radius\" value={this.state.style.borderRadius.replace(\"px\", \"\")} suffix=\"px\" min=\"0\" max=\"100\" handleChange={this.handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"overlay\" onClick={this.handleClick}>\r\n\t\t\t\t<ButtonComponent name=\"ok\" className=\"absolute top-margin right-margin round-button\" onClick={this.handleClick} iconClass=\"ok-icon\"/>\r\n\t\t\t\t<ButtonComponent name=\"cancel\" className=\"absolute top-margin left-margin round-button\" onClick={this.handleClick} iconClass=\"cancel-icon\"/>\r\n\t\t\t\t<div className=\"screen-center\" spellCheck=\"false\">\r\n\t\t\t\t\t<InputTextComponent style={this.state.style} selectedOption={this.state.selectedOption} text={this.state.text} handleTextChange={this.handleTextChange} {...colorStyleProps}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={this.state.selectedOption !== \"\" ? \"config-background config-container\" : \"config-container\"} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t{ menu_config }\r\n\t\t\t\t\t<BottomMenuOptionComponent name=\"selectedOption\" options={TextConfigComponent.menu_options} selected={this.state.selectedOption} onClick={this.handleClick}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass InputTextComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.textField = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(!this.props.selectedOption) {\r\n\t\t\tthis.textField.current.getEl().focus();\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tif(!this.props.selectedOption) {\r\n\t\t\tthis.textField.current.getEl().focus();\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {backgroundColor, borderColor, borderWidth, borderStyle, borderRadius, textShadow, opacity, ...style} = this.props.style;\r\n\t\t\r\n\t\tif(this.props.fontColorStyle === \"gradient\") {\r\n\t\t\tstyle.backgroundImage = this.props.fontGradientColor;\r\n\t\t}else if(this.props.fontColorStyle === \"image\") {\r\n\t\t\tstyle.backgroundImage = this.props.fontImage;\r\n\t\t}\r\n\t\tlet backgroundStyle = {backgroundColor, borderColor, borderWidth, borderStyle, borderRadius, opacity};\r\n\t\tif(this.props.backgroundColorStyle === \"gradient\") {\r\n\t\t\tbackgroundStyle.backgroundImage = this.props.backgroundGradientColor;\r\n\t\t}else if(this.props.backgroundColorStyle === \"image\") {\r\n\t\t\tbackgroundStyle.backgroundImage = this.props.backgroundImage;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"input-text-wrapper\">\r\n\t\t\t\t<div style={style} className={this.props.fontColorStyle !== \"normal\" ? \"background-font\" : \"\"}>\r\n\t\t\t\t\t<div style={backgroundStyle} className=\"text-background\"></div>\r\n\t\t\t\t\t<div style={{textShadow : textShadow, padding : style.padding}} className=\"text-shadow editable\">{this.props.text}</div>\r\n\t\t\t\t\t<ContentEditable className=\"editable\" ref={this.textField} onChange={this.props.handleTextChange} html={this.props.text} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TextConfigComponent;","import React from 'react';\r\n\r\nimport {copyOf, rescale, mergeFilterStyle} from './Utility.js';\r\nimport {RangePicker} from './PickerComponents.js';\r\n\r\nconst IMAGE_FILTER_CONFIG = {\r\n\tblur : { label : \"Blur\", min : 0, max : 10, style : { filter: \"blur(3px)\" } },\r\n\tbrightness : { label : \"Brightness\", min : 50, max : 200, style : { filter: \"brightness(200%)\" } },\r\n\tcontrast : { label : \"Contrast\", min : 50, max : 200, style : { filter: \"contrast(200%)\" } },\r\n\tdropShadow : { label : \"Shadow\", min : 0, max : 20, style : { filter: \"drop-shadow(2px 2px 2px gray)\" } },\r\n\tgrayscale : { label : \"Gray Scale\", min : 0, max : 100, style : { filter: \"grayscale(100%)\" } },\r\n\thueRotate : { label : \"Hue\", min : 0, max : 360, style : { filter : \"hue-rotate(45deg)\" } },\r\n\tinvert : { label : \"Invert\", min : 0, max : 100, style : { filter : \"invert(100%)\" } },\r\n\topacity : { label : \"Opacity\", min : 0, max : 100, style : { filter : \"opacity(50%)\"} },\r\n\tsaturate : { label : \"Saturation\", min : 1, max : 20, style : { filter : \"saturate(5)\"} },\r\n\tsepia : { label : \"Sepia\", min : 0, max : 100, style : { filter : \"sepia(100%)\"} }\r\n}\r\n\r\nclass ImageConfigComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcrop : {},\r\n\t\t\tfilter : {},\r\n\t\t\tselectedOption : \"size-config\",\r\n\t\t\tselectedFilter : \"blur\",\r\n\t\t\tselectedCrop : \"\",\r\n\t\t\tcurrX : 0,\r\n\t\t\tcurrY : 0,\r\n\t\t\tprevX : 0,\r\n\t\t\tprevY : 0,\r\n\t\t\theight : 100,\r\n\t\t\twidth : 100\r\n\t\t};\r\n\t\tif(props.data) {\r\n\t\t\tObject.assign(this.state.filter, props.data.filter);\r\n\t\t\tObject.assign(this.state.crop, props.data.crop);\r\n\t\t}\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleImageLoad = this.handleImageLoad.bind(this);\r\n\t\t\r\n\t\tthis.container = React.createRef();\r\n\t\tthis.image = React.createRef();\r\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\r\n\t\tthis.handleDrag = this.handleDrag.bind(this);\r\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\r\n\t}\r\n\t\r\n\thandleClick(event) {\r\n\t\tif(event.currentTarget.dataset.name === \"ok\") {\r\n\t\t\tlet data = copyOf(this.props.data);\r\n\t\t\tdata.filter = this.state.filter;\r\n\t\t\tdata.crop = this.state.crop;\r\n\t\t\tthis.props.onSave(data);\r\n\t\t}else if(event.currentTarget.dataset.name === \"cancel\") {\r\n\t\t\tthis.props.onSave();\r\n\t\t}else if(event.currentTarget.dataset.name === \"selectedOption\") {\r\n\t\t\tthis.setState({ selectedOption : event.currentTarget.dataset.value });\r\n\t\t}else if(event.currentTarget.dataset.name === \"selectedFilter\") {\r\n\t\t\tthis.setState({ selectedFilter : event.currentTarget.dataset.value });\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleChange(event) {\r\n\t\tif(event.currentTarget.name === \"filter\") {\r\n\t\t\tlet filter = copyOf(this.state.filter);\r\n\t\t\tlet property = event.currentTarget.dataset.prop;\r\n\t\t\tlet value = event.currentTarget.value;\r\n\t\t\tif(property === \"blur\") {\r\n\t\t\t\tvalue += \"px\";\r\n\t\t\t}else if(property === \"dropShadow\") {\r\n\t\t\t\tvalue += \"px \" + value + \"px \" + value + \"px gray\";\r\n\t\t\t}else if(property === \"hueRotate\") {\r\n\t\t\t\tvalue += \"deg\";\r\n\t\t\t}else if(property === \"saturate\") {\r\n\t\t\t\tvalue = value;\r\n\t\t\t}else{\r\n\t\t\t\tvalue += \"%\";\r\n\t\t\t}\r\n\t\t\tfilter[property] = value;\r\n\t\t\tthis.setState({ filter : filter });\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleMouseDown(event) {\r\n\t\tthis.container.current.onmouseup = this.handleMouseUp;\r\n\t\tthis.container.current.onmousemove = this.handleDrag;\r\n\t\tthis.container.current.ontouchend = this.handleMouseUp;\r\n\t\tthis.container.current.ontouchmove = this.handleDrag;\r\n\t\tlet selectedCrop = event.currentTarget.dataset.prop;\r\n\t\tif(event.type === \"touchstart\" && event.touches.length === 1) {\r\n\t\t\tevent = event.touches[0] || event.changedTouches[0];\r\n\t\t}\r\n\t\tthis.setState({ selectedCrop : selectedCrop, prevX : event.clientX, prevY : event.clientY});\r\n\t}\r\n\t\r\n\thandleDrag(event) {\r\n\t\tif(event.type === \"touchmove\" && event.touches.length === 1) {\r\n\t\t\tevent = event.touches[0] || event.changedTouches[0];\r\n\t\t}\r\n\t\tlet currX = this.state.prevX - event.clientX;\r\n\t\tlet currY = this.state.prevY - event.clientY;\r\n\t\tlet prevX = event.clientX;\r\n\t\tlet prevY = event.clientY;\r\n\t\tlet crop = copyOf(this.state.crop);\r\n\t\tif(this.state.selectedCrop === \"left\") {\r\n\t\t\tcrop.left = (crop.offsetLeft - currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.width = (crop.offsetWidth + currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.offsetLeft = (crop.offsetLeft - currX);\r\n\t\t\tcrop.offsetWidth = (crop.offsetWidth + currX);\r\n\t\t\t/*crop.left = (this.image.current.offsetLeft - currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.width = (this.image.current.offsetWidth + currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.offsetLeft = (this.image.current.offsetLeft - currX);\r\n\t\t\tcrop.offsetWidth = (this.image.current.offsetWidth + currX);*/\r\n\t\t}else if(this.state.selectedCrop === \"top\") {\r\n\t\t\tcrop.top = (crop.offsetTop - currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.height = (crop.offsetHeight + currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.offsetTop = (crop.offsetTop - currY);\r\n\t\t\tcrop.offsetHeight = (crop.offsetHeight + currY);\r\n\t\t\t/*crop.top = (this.image.current.offsetTop - currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.height = (this.image.current.offsetHeight + currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.offsetTop = (this.image.current.offsetTop - currY);\r\n\t\t\tcrop.offsetHeight = (this.image.current.offsetHeight + currY);*/\r\n\t\t}else if(this.state.selectedCrop === \"right\") {\r\n\t\t\tcrop.width = (crop.offsetWidth - currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.offsetWidth = (crop.offsetWidth - currX);\r\n\t\t\t/*crop.width = (this.image.current.offsetWidth - currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.offsetWidth = (this.image.current.offsetWidth - currX);*/\r\n\t\t}else if(this.state.selectedCrop === \"bottom\") {\r\n\t\t\tcrop.height = (crop.offsetHeight - currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.offsetHeight = (crop.offsetHeight - currY);\r\n\t\t\t/*crop.height = (this.image.current.offsetHeight - currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.offsetHeight = (this.image.current.offsetHeight - currY);*/\r\n\t\t}else if(this.state.selectedCrop === \"drag\") {\r\n\t\t\tcrop.left = (crop.offsetLeft - currX)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\tcrop.top = (crop.offsetTop - currY)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\tcrop.offsetLeft = (crop.offsetLeft - currX);\r\n\t\t\tcrop.offsetTop = (crop.offsetTop - currY);\r\n\t\t}\r\n\t\t\r\n\t\tlet out_of_range = false;\r\n\t\tif(crop.offsetLeft < 0) {\r\n\t\t\tout_of_range = this.state.selectedCrop !== \"drag\";\r\n\t\t\tcrop.left = \"0%\";\r\n\t\t\tcrop.offsetLeft = 0;\r\n\t\t}\r\n\t\tif(crop.offsetTop < 0) {\r\n\t\t\tout_of_range = this.state.selectedCrop !== \"drag\";\r\n\t\t\tcrop.top = \"0%\";\r\n\t\t\tcrop.offsetTop = 0;\r\n\t\t}\r\n\t\tif(crop.offsetLeft + crop.offsetWidth > this.container.current.offsetWidth) {\r\n\t\t\tif(this.state.selectedCrop === \"drag\") {\r\n\t\t\t\tcrop.left = (this.container.current.offsetWidth - crop.offsetWidth)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\t\tcrop.offsetLeft = this.container.current.offsetWidth - crop.offsetWidth;\r\n\t\t\t}else {\r\n\t\t\t\tout_of_range = true;\r\n\t\t\t\tcrop.width = (this.container.current.offsetWidth - crop.offsetLeft)*100/this.container.current.offsetWidth + \"%\";\r\n\t\t\t\tcrop.offsetWidth = this.container.current.offsetWidth - crop.offsetLeft;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(crop.offsetTop + crop.offsetHeight > this.container.current.offsetHeight) {\r\n\t\t\tif(this.state.selectedCrop === \"drag\") {\r\n\t\t\t\tcrop.top = (this.container.current.offsetHeight - crop.offsetHeight)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\t\tcrop.offsetTop = this.container.current.offsetHeight - crop.offsetHeight;\r\n\t\t\t}else {\r\n\t\t\t\tout_of_range = true;\r\n\t\t\t\tcrop.height = (this.container.current.offsetHeight - crop.offsetTop)*100/this.container.current.offsetHeight + \"%\";\r\n\t\t\t\tcrop.offsetHeight = this.container.current.offsetHeight - crop.offsetTop;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({crop : crop, currX : currX, currY : currY, prevX : prevX, prevY : prevY});\r\n\t\tif(out_of_range){\r\n\t\t\tthis.handleMouseUp();\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleMouseUp(event) {\r\n\t\tthis.container.current.onmouseup = null;\r\n\t\tthis.container.current.onmousemove = null;\r\n\t\tthis.container.current.ontouchend = null;\r\n\t\tthis.container.current.ontouchmove = null;\r\n\t\tthis.setState({ selectedCrop : \"\" });\r\n\t}\r\n\t\r\n\thandleImageLoad(event) {\r\n\t\tlet crop = copyOf(this.state.crop);\r\n\t\tcrop.offsetHeight = parseFloat(crop.height)/100 * event.currentTarget.offsetHeight;\r\n\t\tcrop.offsetWidth = parseFloat(crop.width)/100 * event.currentTarget.offsetWidth;\r\n\t\tthis.setState({ crop : crop, height : event.currentTarget.offsetHeight, width : event.currentTarget.offsetWidth });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet image_size_style = {\r\n\t\t\ttop : rescale(this.state.crop.offsetTop, parseFloat(this.state.crop.top), this.state.height) + \"px\",\r\n\t\t\tleft : rescale(this.state.crop.offsetLeft, parseFloat(this.state.crop.left), this.state.width) + \"px\",\r\n\t\t\twidth : rescale(this.state.crop.offsetWidth, parseFloat(this.state.crop.width), this.state.width) + \"px\",\r\n\t\t\theight : rescale(this.state.crop.offsetHeight, parseFloat(this.state.crop.height), this.state.height) + \"px\"\r\n\t\t};\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"overlay\">\r\n\t\t\t\t<button data-name=\"ok\" className=\"absolute top-margin right-margin round-button\" onClick={this.handleClick}>\r\n\t\t\t\t\t<div className=\"ok-icon\"></div>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button data-name=\"cancel\" className=\"absolute top-margin left-margin round-button\" onClick={this.handleClick}>\r\n\t\t\t\t\t<div className=\"cancel-icon\"></div>\r\n\t\t\t\t</button>\r\n\t\t\t\t{ this.state.selectedOption === \"size-config\" ? \r\n\t\t\t\t\t<div className=\"main-image-filter\" ref={this.container}>\r\n\t\t\t\t\t\t<img src={this.props.data.image} alt=\"error\" style={{filter : mergeFilterStyle(this.state.filter)}}/>\r\n\t\t\t\t\t\t<div className=\"image-crop-overlay\"></div>\r\n\t\t\t\t\t\t<div className=\"image-crop-view\" style={this.state.crop} ref={this.image}>\r\n\t\t\t\t\t\t\t<img src={this.props.data.image} alt=\"error\" style={{filter : mergeFilterStyle(this.state.filter), marginTop : \"-\"+this.state.crop.offsetTop+\"px\", marginLeft : \"-\"+this.state.crop.offsetLeft+\"px\"}} onLoad={this.handleImageLoad}/>\r\n\t\t\t\t\t\t\t<div className=\"absolute image-horizontal-grid\"></div>\r\n\t\t\t\t\t\t\t<div className=\"absolute image-vertical-grid\"></div>\r\n\t\t\t\t\t\t\t<div data-prop=\"left\" className=\"absolute image-crop-left\" onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} />\r\n\t\t\t\t\t\t\t<div data-prop=\"top\" className=\"absolute image-crop-top\" onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} />\r\n\t\t\t\t\t\t\t<div data-prop=\"right\" className=\"absolute image-crop-right\" onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} />\r\n\t\t\t\t\t\t\t<div data-prop=\"bottom\" className=\"absolute image-crop-bottom\" onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} />\r\n\t\t\t\t\t\t\t<div data-prop=\"drag\" className=\"absolute image-drag\" onMouseDown={this.handleMouseDown} onTouchStart={this.handleMouseDown} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t<div className=\"main-image-filter\">\r\n\t\t\t\t\t\t<div className=\"overflow-hidden\" style={image_size_style}>\r\n\t\t\t\t\t\t\t<img src={this.props.data.image} alt=\"error\" style={{filter : mergeFilterStyle(this.state.filter), marginTop : \"-\"+this.state.crop.offsetTop+\"px\", marginLeft : \"-\"+this.state.crop.offsetLeft+\"px\"}} onLoad={this.handleImageLoad}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"config-background config-container\">\r\n\t\t\t\t\t{ this.state.selectedOption === \"filter-config\" && <ImageFilterComponent image={this.props.data.image} selectedFilter={this.state.selectedFilter} value={this.state.filter[this.state.selectedFilter]} handleClick={this.handleClick} handleChange={this.handleChange} /> }\r\n\t\t\t\t\t<div className=\"config-menu-container\">\r\n\t\t\t\t\t\t<div data-name=\"selectedOption\" data-value=\"size-config\" className={this.state.selectedOption === \"size-config\" ? \"selected\" : \"\"} onClick={this.handleClick}>Size</div>\r\n\t\t\t\t\t\t<div data-name=\"selectedOption\" data-value=\"filter-config\" className={this.state.selectedOption === \"filter-config\" ? \"selected\" : \"\"} onClick={this.handleClick}>Filter</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ImageFilterComponent extends React.Component {\r\n\trender() {\r\n\t\tlet rangeConfig = IMAGE_FILTER_CONFIG[this.props.selectedFilter];\r\n\t\tlet thumbnailConfig = Object.keys(IMAGE_FILTER_CONFIG).map((filter) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={filter === this.props.selectedFilter ? \"image-thumbnail selected\" : \"image-thumbnail\" } key={filter} data-name=\"selectedFilter\" data-value={filter} onClick={this.props.handleClick}>\r\n\t\t\t\t\t<img src={this.props.image} style={IMAGE_FILTER_CONFIG[filter].style} alt=\"error\"/>\r\n\t\t\t\t\t<div>{IMAGE_FILTER_CONFIG[filter].label}</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (<>\r\n\t\t\t<RangePicker name=\"filter\" property={this.props.selectedFilter} label={rangeConfig.label} value={parseInt(this.props.value)} convertToPercent=\"true\" suffix=\"%\" min={rangeConfig.min} max={rangeConfig.max} handleChange={this.props.handleChange} />\r\n\t\t\t<div className=\"image-thumbnail-container\"> {thumbnailConfig} </div>\r\n\t\t</>);\r\n\t}\r\n}\r\n\r\nexport default ImageConfigComponent;","import React from 'react';\nimport html2canvas from 'html2canvas';\n\nimport {copyOf, loadImage} from './Utility.js';\nimport {ButtonComponent, ImageInputComponent} from './CommonComponents.js';\nimport BackgroundConfigComponent from './BackgroundConfigComponent.js';\nimport {DraggableComponent, DraggableConfigComponent} from './DraggableComponent.js';\nimport TextConfigComponent from './TextConfigComponent.js';\nimport ImageConfigComponent from './ImageConfigComponent.js';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tbackgroundSize : \"1 x 1\",\n\t\t\tbackgroundImage : \"linear-gradient(to left, #673AB7, #2196F3, #4CAF50, #00BCD4, #FFEB3B, #FF9800, #FF5722)\",\n\t\t\tbackgroundColor : \"#FFFFFF\",\n\t\t\tbackgroundGradient : \"linear-gradient(#D1C4E9,#B2EBF2)\",\n\t\t\tbackgroundImageSize : \"cover\",\n\t\t\tbackgroundStyle : \"backgroundColor\",\n\t\t\taddIconClicked : false,\n\t\t\tconfigOverlay : false,\n\t\t\tbackgroundConfigOverlay : false,\n\t\t\ttextArray : [],\n\t\t\timageArray : [],\n\t\t\tselectedDraggable : undefined,\n\t\t\tscreenshotMode : false\n\t\t};\n\t\tthis.container = React.createRef();\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleTextSave = this.handleTextSave.bind(this);\n\t\tthis.handleImageSave = this.handleImageSave.bind(this);\n\t\tthis.handleBackgroundSave = this.handleBackgroundSave.bind(this);\n\t\tthis.handleImageHeight = this.handleImageHeight.bind(this);\n\t\tthis.handleScreenshot = this.handleScreenshot.bind(this);\n\t\t\n\t\tthis.state.touchDiff = 0;\n\t\tthis.appElem = React.createRef();\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\t}\n\t\n\thandleChange(event) {\n\t\tevent.stopPropagation();\n\t\t\n\t\tif(event.target.dataset.name === \"backgroundConfig\") {\n\t\t\tthis.setState({ backgroundConfigOverlay : true });\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"backgroundSizeConfig\") {\n\t\t\tvar backgroundSize = \"1 x 1\";\n\t\t\tif(event.target.dataset.value === \"1 x 1\") {\n\t\t\t\tbackgroundSize = \"3 x 4\";\n\t\t\t}else if(event.target.dataset.value === \"3 x 4\") {\n\t\t\t\tbackgroundSize = \"9 x 16\"\n\t\t\t}\n\t\t\tthis.setState({ backgroundSize : backgroundSize });\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"add\") {\n\t\t\tthis.setState({ addIconClicked : !this.state.addIconClicked });\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"edit\") {\n\t\t\tthis.setState({ configOverlay : true });\n\t\t}\n\t\t\n\t\tif(event.target.name === \"addImage\") {\n\t\t\tif(event.target.files.length > 0){\n\t\t\t\tlet file = event.target.files[0];\n\t\t\t\tloadImage(file, (response) => {\n\t\t\t\t\tlet image = {\n\t\t\t\t\t\tid : \"img_\"+Date.now(),\n\t\t\t\t\t\tstyle : {\n\t\t\t\t\t\t\twidth : \"100px\",\n\t\t\t\t\t\t\ttransform : \"rotate(0deg)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfilter : {\n\t\t\t\t\t\t\tblur : \"0px\",\n\t\t\t\t\t\t\tbrightness : \"100%\",\n\t\t\t\t\t\t\tcontrast : \"100%\",\n\t\t\t\t\t\t\tdropShadow : \"0px 0px 0px gray\",\n\t\t\t\t\t\t\tgrayscale : \"0%\",\n\t\t\t\t\t\t\thueRotate : \"0deg\",\n\t\t\t\t\t\t\tinvert : \"0%\",\n\t\t\t\t\t\t\topacity : \"100%\",\n\t\t\t\t\t\t\tsaturate : \"1\",\n\t\t\t\t\t\t\tsepia : \"0%\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcrop : {\n\t\t\t\t\t\t\ttop : \"0%\",\n\t\t\t\t\t\t\tleft : \"0%\",\n\t\t\t\t\t\t\twidth : \"100%\",\n\t\t\t\t\t\t\theight : \"100%\",\n\t\t\t\t\t\t\toffsetTop : 0,\n\t\t\t\t\t\t\toffsetLeft : 0,\n\t\t\t\t\t\t\toffsetWidth : 100,\n\t\t\t\t\t\t\toffsetHeight : 100\n\t\t\t\t\t\t},\n\t\t\t\t\t\timage : response\n\t\t\t\t\t};\n\t\t\t\t\tthis.handleImageSave(image);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"addText\") {\n\t\t\tthis.setState({ configOverlay : true, addIconClicked : false });\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"style\") {\n\t\t\tthis.setState({ [event.target.dataset.prop] : event.target.dataset.value });\n\t\t}\n\t\t\n\t\tif(event.target.name === \"rotate\") {\n\t\t\tif(this.state.selectedDraggable.startsWith(\"txt\")) {\n\t\t\t\tlet textArray = copyOf(this.state.textArray).map((text) => {\n\t\t\t\t\tif(text.id === this.state.selectedDraggable) {\n\t\t\t\t\t\ttext.style.transform = \"rotate(\" + event.target.value + \"deg)\";\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t});\n\t\t\t\tthis.setState({ textArray : textArray });\n\t\t\t}else {\n\t\t\t\tlet imageArray = copyOf(this.state.imageArray).map((image) => {\n\t\t\t\t\tif(image.id === this.state.selectedDraggable) {\n\t\t\t\t\t\timage.style.transform = \"rotate(\" + event.target.value + \"deg)\";\n\t\t\t\t\t}\n\t\t\t\t\treturn image;\n\t\t\t\t});\n\t\t\t\tthis.setState({ imageArray : imageArray });\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(event.target.name === \"size\") {\n\t\t\tif(this.state.selectedDraggable.startsWith(\"txt\")) {\n\t\t\t\tlet textArray = copyOf(this.state.textArray).map((text) => {\n\t\t\t\t\tif(text.id === this.state.selectedDraggable) {\n\t\t\t\t\t\ttext.style.fontSize = event.target.value + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t});\n\t\t\t\tthis.setState({ textArray : textArray });\n\t\t\t}else {\n\t\t\t\tlet imageArray = copyOf(this.state.imageArray).map((image) => {\n\t\t\t\t\tif(image.id === this.state.selectedDraggable) {\n\t\t\t\t\t\timage.style.height = (parseFloat(image.style.height)*event.target.value)/parseFloat(image.style.width) + \"px\";\n\t\t\t\t\t\timage.style.width = event.target.value + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\treturn image;\n\t\t\t\t});\n\t\t\t\tthis.setState({ imageArray : imageArray });\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(event.target.dataset.name === \"delete\") {\n\t\t\tif(this.state.selectedDraggable.startsWith(\"txt\")) {\n\t\t\t\tlet textArray = copyOf(this.state.textArray).filter((text) => {\n\t\t\t\t\treturn text.id !== this.state.selectedDraggable;\n\t\t\t\t});\n\t\t\t\tthis.setState({ textArray : textArray, selectedDraggable : undefined });\n\t\t\t}else {\n\t\t\t\tlet imageArray = copyOf(this.state.imageArray).filter((image) => {\n\t\t\t\t\treturn image.id !== this.state.selectedDraggable;\n\t\t\t\t});\n\t\t\t\tthis.setState({ imageArray : imageArray, selectedDraggable : undefined });\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleClick(event) {\n\t\tevent.stopPropagation();\n\t\tif(event.target.classList.contains(\"draggable\")) {\n\t\t\tthis.setState({addIconClicked : false, screenshotMode : false});\n\t\t}else {\n\t\t\tthis.setState({addIconClicked : false, screenshotMode : false, selectedDraggable : undefined});\n\t\t}\n\t}\n\t\n\thandleScreenshot() {\n\t\t/* For Save purpose */\n\t\t/*html2canvas(document.querySelector(\".greeting-background\")).then(canvas => {\n\t\t\tvar a = document.createElement('a'); \n\t\t\ta.download = \"greeting-card.png\"; \n\t\t\ta.href =  canvas.toDataURL();\n\t\t\ta.click();\n\t\t});*/\n\t\tthis.setState({screenshotMode : true, selectedDraggable : undefined});\n\t}\n\t\n\thandleImageSave(image) {\n\t\tif(image) {\n\t\t\tlet imageArray = copyOf(this.state.imageArray);\n\t\t\tlet isPresent = false;\n\t\t\timageArray = imageArray.map((i) => {\n\t\t\t\tif(i.id === image.id) {\n\t\t\t\t\tisPresent = true;\n\t\t\t\t\timage.style.width = i.style.width;\n\t\t\t\t\timage.style.transform = i.style.transform;\n\t\t\t\t\treturn image;\n\t\t\t\t}\n\t\t\t\treturn i;\n\t\t\t});\n\t\t\tif(!isPresent) {\n\t\t\t\timageArray.push(image);\n\t\t\t}\n\t\t\tthis.setState({imageArray : imageArray, configOverlay : false, selectedDraggable : undefined});\n\t\t}else {\n\t\t\tthis.setState({configOverlay : false});\n\t\t}\n\t}\n\t\n\thandleTextSave(text) {\n\t\tif(text && text.text) {\n\t\t\tlet textArray = copyOf(this.state.textArray);\n\t\t\tlet isPresent = false;\n\t\t\ttextArray = textArray.map((t) => {\n\t\t\t\tif(t.id === text.id) {\n\t\t\t\t\tisPresent = true;\n\t\t\t\t\ttext.style.fontSize = t.style.fontSize;\n\t\t\t\t\ttext.style.transform = t.style.transform;\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\treturn t;\n\t\t\t});\n\t\t\tif(!isPresent) {\n\t\t\t\ttext.style.fontSize = \"20px\";\n\t\t\t\ttext.style.transform = \"rotate(0deg)\";\n\t\t\t\ttextArray.push(text);\n\t\t\t}\n\t\t\tthis.setState({textArray : textArray, configOverlay : false});\n\t\t}else {\n\t\t\tthis.setState({configOverlay : false});\n\t\t}\n\t}\n\t\n\thandleBackgroundSave(background) {\n\t\tif(background) {\n\t\t\tthis.setState({\n\t\t\t\tbackgroundImage : background.backgroundImage,\n\t\t\t\tbackgroundColor : background.backgroundColor,\n\t\t\t\tbackgroundGradient : background.backgroundGradient,\n\t\t\t\tbackgroundImageSize : background.backgroundImageSize,\n\t\t\t\tbackgroundStyle : background.backgroundStyle,\n\t\t\t\tbackgroundConfigOverlay : false\n\t\t\t});\n\t\t}else {\n\t\t\tthis.setState({backgroundConfigOverlay : false});\n\t\t}\n\t}\n\t\n\thandleImageHeight(id, height) {\n\t\tlet imageArray = copyOf(this.state.imageArray).map((image) => {\n\t\t\tif(image.id === id) {\n\t\t\t\timage.style.height = height + \"px\";\n\t\t\t}\n\t\t\treturn image;\n\t\t});\n\t\tthis.setState({ imageArray : imageArray });\n\t}\n\t\n\tcomponentDidMount() {\n\t\tdocument.body.addEventListener(\"touchmove\", (event) => event.preventDefault());\n\t}\n\t\n\tcomponentWillUnmount() {\n\t\tdocument.body.removeEventListener(\"touchmove\", (event) => event.preventDefault());\n\t}\n\t\n\thandleTouchStart(event) {\n\t\tif(this.state.selectedDraggable && event.touches.length === 2) {\n\t\t\tlet pos1 = event.touches[0].clientY;\n\t\t\tlet pos2 = event.touches[1].clientY;\n\t\t\tlet diff = pos1 > pos2 ? parseInt(pos1 - pos2) : parseInt(pos2 - pos1);\n\t\t\tthis.setState({ touchDiff : diff });\n\t\t\tthis.appElem.current.ontouchmove = this.handleTouchMove;\n\t\t\tthis.appElem.current.ontouchend = this.handleTouchEnd;\n\t\t}\n\t}\n\t\n\thandleTouchMove(event) {\n\t\tif(this.state.selectedDraggable && event.touches.length === 2) {\n\t\t\tlet pos1 = event.touches[0].clientY;\n\t\t\tlet pos2 = event.touches[1].clientY;\n\t\t\tlet currDiff = pos1 > pos2 ? parseInt(pos1 - pos2) : parseInt(pos2 - pos1);\n\t\t\tlet diff = currDiff - this.state.touchDiff;\n\t\t\t\n\t\t\tif(this.state.selectedDraggable.startsWith(\"txt\")) {\n\t\t\t\tlet textArray = copyOf(this.state.textArray).map((text) => {\n\t\t\t\t\tif(text.id === this.state.selectedDraggable) {\n\t\t\t\t\t\tlet value = parseInt(text.style.fontSize) + diff;\n\t\t\t\t\t\tif(value < 5) {\n\t\t\t\t\t\t\tvalue = 5;\n\t\t\t\t\t\t}else if(value > 100) {\n\t\t\t\t\t\t\tvalue = 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext.style.fontSize = value + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t});\n\t\t\t\tthis.setState({ textArray : textArray, touchDiff : currDiff });\n\t\t\t}else {\n\t\t\t\tlet imageArray = copyOf(this.state.imageArray).map((image) => {\n\t\t\t\t\tif(image.id === this.state.selectedDraggable) {\n\t\t\t\t\t\tlet value = parseFloat(image.style.width) + diff/10;\n\t\t\t\t\t\tif(value < 50) {\n\t\t\t\t\t\t\tvalue = 50;\n\t\t\t\t\t\t}else if(value > this.container.current.offsetWidth) {\n\t\t\t\t\t\t\tvalue = this.container.current.offsetWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\timage.style.height = (parseFloat(image.style.height)*value)/parseFloat(image.style.width) + \"px\";\n\t\t\t\t\t\timage.style.width = value + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\treturn image;\n\t\t\t\t});\n\t\t\t\tthis.setState({ imageArray : imageArray });\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleTouchEnd() {\n\t\tthis.appElem.current.ontouchmove = null;\n\t\tthis.appElem.current.ontouchend = null;\n\t}\n\t\n\trender() {\n\t\tvar [width, height] = this.state.backgroundSize.split(\" x \");\n\t\tif(document.body.offsetWidth < document.body.offsetHeight) {\n\t\t\theight = ((height * 100)/width) + \"vmin\";\n\t\t\twidth = \"100vmin\";\n\t\t}else {\n\t\t\twidth = ((width * 100)/height) + \"vmin\";\n\t\t\theight = \"100vmin\";\n\t\t}\n\t\t\n\t\tlet backgroundStyle = {\n\t\t\twidth : width,\n\t\t\theight : height,\n\t\t\tbackgroundImage : this.state.backgroundStyle === \"backgroundColor\" ? \"\" : (this.state.backgroundStyle === \"backgroundGradient\" ? this.state.backgroundGradient : this.state.backgroundImage),\n\t\t\tbackgroundColor : this.state.backgroundColor,\n\t\t\tbackgroundSize : this.state.backgroundImageSize,\n\t\t\tbackgroundRepeat : \"no-repeat\",\n\t\t\tbackgroundPosition : \"center\"\n\t\t}\n\t\t\n\t\tlet textElements = this.state.textArray.map((data) => <DraggableComponent key={data.id} id={data.id} selected={data.id === this.state.selectedDraggable} container={this.container} handleDraggableClick={(id) => this.setState({ selectedDraggable : id })} style={data.style} fontColorStyle={data.fontColorStyle} fontGradientColor={data.fontGradientColor} fontImage={data.fontImage} backgroundColorStyle={data.backgroundColorStyle} backgroundGradientColor={data.backgroundGradientColor} backgroundImage={data.backgroundImage} text={data.text} /> );\n\t\tlet imageElements = this.state.imageArray.map((data) => <DraggableComponent key={data.id} id={data.id} selected={data.id === this.state.selectedDraggable} container={this.container} handleDraggableClick={(id) => this.setState({ selectedDraggable : id })} style={data.style} filter={data.filter} crop={data.crop} image={data.image} handleImageHeight={this.handleImageHeight}/> );\n\t\t\n\t\tlet selectedDraggable;\n\t\tif(this.state.selectedDraggable) {\n\t\t\tif(this.state.selectedDraggable.startsWith(\"txt\")) {\n\t\t\t\tselectedDraggable = this.state.textArray.find((text) => text.id === this.state.selectedDraggable );\n\t\t\t}else {\n\t\t\t\tselectedDraggable = this.state.imageArray.find((image) => image.id === this.state.selectedDraggable );\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div className={this.state.screenshotMode ? \"screenshot-mode\" : \"\"} ref={this.appElem} onTouchStart={this.handleTouchStart}>\n\t\t\t\t<ButtonComponent name=\"backgroundConfig\" className=\"absolute top-margin left-margin round-button\" onClick={this.handleChange} iconClass=\"add-background-icon\"/>\n\t\t\t\t<div className=\"absolute background-size top-margin pointer\" data-name=\"backgroundSizeConfig\" onClick={this.handleChange} data-value={this.state.backgroundSize}>{this.state.backgroundSize}</div>\n\t\t\t\t<ButtonComponent name=\"screenshot\" className=\"absolute top-margin right-margin round-button\" onClick={this.handleScreenshot} iconClass=\"screenshot-icon\"/>\n\t\t\t\t\n\t\t\t\t{ !this.state.backgroundConfigOverlay && !this.state.configOverlay && this.state.selectedDraggable && <ButtonComponent name=\"delete\" className=\"absolute right-margin round-button\" style={{top:\"60px\"}} onClick={this.handleChange} iconClass=\"delete-icon\"/> }\n\t\t\t\t\n\t\t\t\t{ !this.state.backgroundConfigOverlay && !this.state.configOverlay && <ButtonComponent name={this.state.selectedDraggable ? \"edit\" : \"add\"} className=\"absolute bottom-margin right-margin round-button\" onClick={this.handleChange} iconClass={this.state.selectedDraggable ? \"edit-icon\" : \"add-icon\"} /> }\n\t\t\t\t\n\t\t\t\t{ this.state.addIconClicked && <>\n\t\t\t\t\t<ImageInputComponent id=\"addImage\" name=\"addImage\" onChange={this.handleChange} className=\"absolute right-margin round-button\" style={{bottom:\"110px\"}} iconClass=\"add-image-icon\" />\n\t\t\t\t\t<ButtonComponent name=\"addText\" className=\"absolute right-margin round-button\" style={{bottom:\"60px\"}} onClick={this.handleChange} iconClass=\"add-text-icon\"/>\n\t\t\t\t</> }\n\t\t\t\t\n\t\t\t\t<div className=\"greeting-container\" onClick={this.handleClick}>\n\t\t\t\t\t<div className=\"greeting-background\" style={backgroundStyle} ref={this.container}>\n\t\t\t\t\t\t{imageElements}\n\t\t\t\t\t\t{textElements}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t{ this.state.configOverlay && ((this.state.selectedDraggable && this.state.selectedDraggable.startsWith(\"img\")) ? <ImageConfigComponent data={selectedDraggable} onSave={this.handleImageSave} /> : <TextConfigComponent data={selectedDraggable} onSave={this.handleTextSave}/>) }\n\t\t\t\t{ this.state.backgroundConfigOverlay && <BackgroundConfigComponent backgroundColor={this.state.backgroundColor} backgroundImage={this.state.backgroundImage} backgroundImageSize={this.state.backgroundImageSize} backgroundGradient={this.state.backgroundGradient} backgroundStyle={this.state.backgroundStyle} backgroundSize={this.state.backgroundSize} handleBackgroundSave={this.handleBackgroundSave} /> }\n\t\t\t\t{ !this.state.backgroundConfigOverlay && !this.state.configOverlay && this.state.selectedDraggable && <DraggableConfigComponent rotate={selectedDraggable.style.transform} size={selectedDraggable.style.fontSize ? selectedDraggable.style.fontSize : selectedDraggable.style.width} maxSize={selectedDraggable.style.fontSize ? \"50\" : this.container.current.offsetWidth} minSize={selectedDraggable.style.fontSize ? \"1\" : \"50\"} handleChange={this.handleChange} /> }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}