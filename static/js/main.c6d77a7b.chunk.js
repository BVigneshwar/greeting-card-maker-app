(this["webpackJsonpgreeting-card-maker-app"]=this["webpackJsonpgreeting-card-maker-app"]||[]).push([[0],{18:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(11),o=a.n(s),i=(a(18),a(7)),l=a(8),c=a(3),d=a(4),h=a(2),p=a(6),u=a(5);a(19);function g(e){var t=JSON.stringify(e);return JSON.parse(t)}function b(e,t){var a=e.type;if("image/jpeg"!==a&&"image/png"!==a&&"image/jpg"!==a)alert("Invalid File Extension. Expected formats : jpeg, png or jpg");else{var r=new FileReader;r.onload=function(e){t(e.target.result)},r.readAsDataURL(e)}}function f(e,t,a){return e*a/(100*e/t)}function m(e){var t="blur("+e.blur+")",a="brightness("+e.brightness+")",r="contrast("+e.contrast+")",n="drop-shadow("+e.dropShadow+")";return[t,a,r,"grayscale("+e.grayscale+")","hue-rotate("+e.hueRotate+")","invert("+e.invert+")","opacity("+e.opacity+")","saturate("+e.saturate+")","sepia("+e.sepia+")",n].join(" ")}var j=a(0);function v(e){return Object(j.jsx)("button",{"data-name":e.name,className:e.className,onClick:e.onClick,style:e.style,children:Object(j.jsx)("div",{"data-name":e.name,className:e.iconClass})})}function y(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{id:e.id,hidden:!0,type:"file",name:e.name,accept:"image/*",onChange:e.onChange}),Object(j.jsx)("label",{className:e.className,style:e.style,htmlFor:e.id,children:Object(j.jsx)("div",{className:e.iconClass,style:e.iconStyle,children:e.children})})]})}function C(e){return Object(j.jsx)("div",{className:"config-menu-container",children:e.options.map((function(t){return Object(j.jsx)("div",{"data-name":e.name,"data-value":t.value,className:e.selected===t.value?"selected":"",onClick:e.onClick,children:t.label})}))})}var x=a.p+"static/media/no-color-icon.003dc96e.png",k=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"text-align-picker-container",children:[Object(j.jsx)("div",{className:"left"===this.props.textAlign?"left-align-button selected":"left-align-button","data-name":"style","data-prop":"textAlign","data-value":"left",onClick:this.props.handleChange}),Object(j.jsx)("div",{className:"center"===this.props.textAlign?"center-align-button selected":"center-align-button","data-name":"style","data-prop":"textAlign","data-value":"center",onClick:this.props.handleChange}),Object(j.jsx)("div",{className:"right"===this.props.textAlign?"right-align-button selected":"right-align-button","data-name":"style","data-prop":"textAlign","data-value":"right",onClick:this.props.handleChange})]})}}]),a}(n.a.Component),O=["Times New Roman","Caveat","Codystar","Comfortaa","Cookie","Courgette","Crafty Girls","Dancing Script","Gloria Hallelujah","Handlee","Limelight","Luckiest Guy","Lobster","Monoton","Pacifico","Permanent Marker","Sacramento","Source Code Pro"],S=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={leftClass:"left-scroll-button",rightClass:"right-scroll-button highlight"},r.container=n.a.createRef(),r.handleScroll=r.handleScroll.bind(Object(h.a)(r)),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleScroll",value:function(e){var t={leftClass:"left-scroll-button",rightClass:"right-scroll-button"};this.container.current.scrollLeft>50&&(t.leftClass="left-scroll-button highlight"),this.container.current.offsetWidth+this.container.current.scrollLeft<this.container.current.scrollWidth-50&&(t.rightClass="right-scroll-button highlight"),this.setState(t)}},{key:"handleClick",value:function(e){"scroll-left"===e.target.dataset.name?this.container.current.scroll({left:this.container.current.scrollLeft-this.container.current.offsetWidth,behavior:"smooth"}):"scroll-right"===e.target.dataset.name&&this.container.current.scroll({left:this.container.current.scrollLeft+this.container.current.offsetWidth,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=O.map((function(t,a){return Object(j.jsx)("div",{"data-name":"style","data-prop":"fontFamily","data-value":t,className:e.props.fontFamily===t?"font-button selected":"font-button",style:{fontFamily:t},onClick:e.props.handleChange,children:"Aa"},a)}));return Object(j.jsxs)("div",{className:"color-picker-wrapper",children:[Object(j.jsx)("div",{"data-name":"scroll-left",className:this.state.leftClass,onClick:this.handleClick}),Object(j.jsx)("div",{className:"font-picker-container",onScroll:this.handleScroll,ref:this.container,children:t}),Object(j.jsx)("div",{"data-name":"scroll-right",className:this.state.rightClass,onClick:this.handleClick})]})}}]),a}(n.a.Component),F=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{"data-name":this.props.styleProperty,"data-value":"normal",className:"normal"===this.props.colorStyle?"color-style-button selected":"color-style-button",onClick:this.props.handleClick,children:[Object(j.jsx)("div",{className:"color-button",style:"transparent"===this.props.normal.color?{backgroundImage:"url("+x+")"}:{backgroundColor:this.props.normal.color}}),Object(j.jsx)("div",{children:"Color"})]}),Object(j.jsxs)("div",{"data-name":this.props.styleProperty,"data-value":"gradient",className:"gradient"===this.props.colorStyle?"color-style-button selected":"color-style-button",onClick:this.props.handleClick,children:[Object(j.jsx)("div",{className:"color-button",style:{backgroundImage:"linear-gradient("+this.props.gradient.top+","+this.props.gradient.bottom+")"}}),Object(j.jsx)("div",{children:"Gradient"})]}),Object(j.jsxs)("div",{"data-name":this.props.styleProperty,"data-value":"image",className:"image"===this.props.colorStyle?"color-style-button selected":"color-style-button",onClick:this.props.handleClick,children:[Object(j.jsx)("div",{className:"color-button",style:{backgroundImage:this.props.image.value}}),Object(j.jsx)("div",{children:"Image"})]})]}),"normal"===this.props.colorStyle&&Object(j.jsx)(D,{color:this.props.normal.color,transparent:this.props.normal.transparent,property:this.props.normal.property,handleChange:this.props.handleChange}),"gradient"===this.props.colorStyle&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{"data-name":this.props.gradient.property,"data-value":"top",className:"top"===this.props.selectedGradient?"color-style-button selected":"color-style-button",onClick:this.props.handleClick,children:[Object(j.jsx)("div",{className:"color-button",style:{backgroundColor:this.props.gradient.top}}),Object(j.jsx)("div",{children:"Top"})]}),Object(j.jsxs)("div",{"data-name":this.props.gradient.property,"data-value":"bottom",className:"bottom"===this.props.selectedGradient?"color-style-button selected":"color-style-button",onClick:this.props.handleClick,children:[Object(j.jsx)("div",{className:"color-button",style:{backgroundColor:this.props.gradient.bottom}}),Object(j.jsx)("div",{children:"Bottom"})]}),Object(j.jsx)(D,{color:"top"===this.props.selectedGradient?this.props.gradient.top:this.props.gradient.bottom,property:"top"===this.props.selectedGradient?this.props.gradient.topProperty:this.props.gradient.bottomProperty,handleChange:this.props.handleChange})]}),"image"===this.props.colorStyle&&Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{id:"color-style-image",hidden:!0,type:"file",name:this.props.image.property,accept:"image/*",onChange:this.props.handleClick}),Object(j.jsx)("label",{htmlFor:"color-style-image",className:"font-image pointer",children:Object(j.jsx)("div",{className:"image-button",style:{backgroundImage:this.props.image.value},children:Object(j.jsx)("div",{className:"edit-icon"})})})]})]})}}]),a}(n.a.Component),T=["#000000","#FFFFFF","#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#F5F5F5","#EF5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#D4E157","#FFEE58","#FFCA28","#FFA726","#FF7043","#8D6E63","#BDBDBD","#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#D32F2F","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#212121"],D=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={leftClass:"left-scroll-button",rightClass:"right-scroll-button highlight"},r.container=n.a.createRef(),r.handleScroll=r.handleScroll.bind(Object(h.a)(r)),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleScroll",value:function(e){var t={leftClass:"left-scroll-button",rightClass:"right-scroll-button"};this.container.current.scrollLeft>50&&(t.leftClass="left-scroll-button highlight"),this.container.current.offsetWidth+this.container.current.scrollLeft<this.container.current.scrollWidth-50&&(t.rightClass="right-scroll-button highlight"),this.setState(t)}},{key:"handleClick",value:function(e){"scroll-left"===e.target.dataset.name?this.container.current.scroll({left:this.container.current.scrollLeft-this.container.current.offsetWidth,behavior:"smooth"}):"scroll-right"===e.target.dataset.name&&this.container.current.scroll({left:this.container.current.scrollLeft+this.container.current.offsetWidth,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=T.map((function(t,a){return Object(j.jsx)("div",{"data-name":"style","data-prop":e.props.property,"data-value":t,className:e.props.color===t?"color-button selected":"color-button",style:{backgroundColor:t,borderColor:t},onClick:e.props.handleChange},a)}));return Object(j.jsxs)("div",{className:"color-picker-wrapper",children:[Object(j.jsx)("div",{"data-name":"scroll-left",className:this.state.leftClass,onClick:this.handleClick}),Object(j.jsxs)("div",{className:"color-picker-container",onScroll:this.handleScroll,ref:this.container,children:[this.props.transparent&&Object(j.jsx)("div",{"data-name":"style","data-prop":this.props.property,"data-value":"transparent",className:"transparent"===this.props.color?"no-color-icon-button selected":"no-color-icon-button",onClick:this.props.handleChange}),t]}),Object(j.jsx)("div",{"data-name":"scroll-right",className:this.state.rightClass,onClick:this.handleClick})]})}}]),a}(n.a.Component),w=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e="normal"===this.props.fontStyle?"italic":"normal",t="normal"===this.props.fontWeight?"bold":"normal",a="none"===this.props.textDecoration?"underline":"none";return Object(j.jsxs)("div",{className:"picker-container",children:[Object(j.jsx)("div",{"data-name":"style","data-prop":"fontStyle","data-value":e,className:"italic"===e?"font-style-button":"font-style-button selected",onClick:this.props.handleChange,style:{fontStyle:"italic"},children:"italic"}),Object(j.jsx)("div",{"data-name":"style","data-prop":"fontWeight","data-value":t,className:"bold"===t?"font-style-button":"font-style-button selected",onClick:this.props.handleChange,style:{fontWeight:"bold"},children:"bold"}),Object(j.jsx)("div",{"data-name":"style","data-prop":"textDecoration","data-value":a,className:"underline"===a?"font-style-button":"font-style-button selected",onClick:this.props.handleChange,style:{textDecoration:"underline"},children:"underline"})]})}}]),a}(n.a.Component),N=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"picker-container",children:[Object(j.jsx)("div",{"data-name":"style","data-prop":"borderStyle","data-value":"solid",className:"solid"===this.props.borderStyle?"border-solid-button selected":"border-solid-button",onClick:this.props.handleChange,children:"solid"}),Object(j.jsx)("div",{"data-name":"style","data-prop":"borderStyle","data-value":"dotted",className:"dotted"===this.props.borderStyle?"border-dotted-button selected":"border-dotted-button",onClick:this.props.handleChange,children:"dotted"}),Object(j.jsx)("div",{"data-name":"style","data-prop":"borderStyle","data-value":"dashed",className:"dashed"===this.props.borderStyle?"border-dashed-button selected":"border-dashed-button",onClick:this.props.handleChange,children:"dashed"}),Object(j.jsx)("div",{"data-name":"style","data-prop":"borderStyle","data-value":"double",className:"double"===this.props.borderStyle?"border-double-button selected":"border-double-button",onClick:this.props.handleChange,children:"double"})]})}}]),a}(n.a.Component),I=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=parseInt(this.props.min),t=parseInt(this.props.max),a=parseInt(this.props.value);return a=parseInt((a-e)/(t-e)*100),Object(j.jsxs)("div",{className:"range-container",children:[Object(j.jsx)("div",{className:"range-label",children:this.props.label}),Object(j.jsx)("input",{type:"range",name:this.props.name,"data-prop":this.props.property,value:this.props.value,min:this.props.min,max:this.props.max,step:this.props.step?this.props.step:"1",onChange:this.props.handleChange}),Object(j.jsx)("div",{className:"range-value",children:this.props.convertToPercent?a+this.props.suffix:this.props.value+this.props.suffix})]})}}]),a}(n.a.Component),B=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={},Object.assign(r.state,r.props),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r.handleChange=r.handleChange.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleClick",value:function(e){"backgroundStyle"===e.currentTarget.dataset.name?this.setState({backgroundStyle:e.currentTarget.dataset.value}):"ok"===e.currentTarget.dataset.name?this.props.handleBackgroundSave(this.state):"cancel"===e.currentTarget.dataset.name&&this.props.handleBackgroundSave()}},{key:"handleChange",value:function(e){var t=this;if("backgroundImage"===e.currentTarget.name)e.target.files.length>0&&b(e.target.files[0],(function(e){t.setState({backgroundImage:"url("+e+")"})}));else if("backgroundColor"===e.currentTarget.dataset.prop)this.setState({backgroundColor:e.currentTarget.dataset.value});else if("backgroundGradientTop"===e.currentTarget.dataset.prop||"backgroundGradientBottom"===e.currentTarget.dataset.prop){var a=this.state.backgroundGradient.replace("linear-gradient(","").replace(")","").split(",");a["backgroundGradientTop"===e.currentTarget.dataset.prop?0:1]=e.currentTarget.dataset.value,this.setState({backgroundGradient:"linear-gradient("+a[0]+","+a[1]+")"})}else"backgroundImageSize"===e.currentTarget.dataset.prop&&this.setState({backgroundImageSize:e.currentTarget.dataset.value})}},{key:"render",value:function(){var e=this.props.backgroundSize.split(" x "),t=Object(i.a)(e,2),r=t[0],n=t[1];document.body.offsetWidth<document.body.offsetHeight?(n=50*n/r+"vmin",r="50vmin"):(r=50*r/n+"vmin",n="50vmin");var s,o={width:r,height:n,backgroundSize:this.state.backgroundImageSize,backgroundColor:this.state.backgroundColor,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"backgroundColor"===this.state.backgroundStyle?"":"backgroundGradient"===this.state.backgroundStyle?this.state.backgroundGradient:this.state.backgroundImage};return"backgroundColor"===this.state.backgroundStyle?s=Object(j.jsx)(D,{color:this.state.backgroundColor,property:"backgroundColor",handleChange:this.handleChange}):"backgroundGradient"===this.state.backgroundStyle?s=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{color:this.state.backgroundGradient.replace("linear-gradient(","").replace(")","").split(",")[0],property:"backgroundGradientTop",handleChange:this.handleChange}),Object(j.jsx)(D,{color:this.state.backgroundGradient.replace("linear-gradient(","").replace(")","").split(",")[1],property:"backgroundGradientBottom",handleChange:this.handleChange})]}):"backgroundImage"===this.state.backgroundStyle&&(s=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(y,{id:"color-style-image",name:"backgroundImage",onChange:this.handleChange,className:"font-image pointer",style:{bottom:"110px"},iconClass:"image-button",iconStyle:{backgroundImage:this.state.backgroundImage},children:Object(j.jsx)("div",{className:"edit-icon"})})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{"data-prop":"backgroundImageSize","data-value":"cover",className:"cover"===this.state.backgroundImageSize?"color-style-button selected":"color-style-button",onClick:this.handleChange,children:"Cover"}),Object(j.jsx)("div",{"data-prop":"backgroundImageSize","data-value":"contain",className:"contain"===this.state.backgroundImageSize?"color-style-button selected":"color-style-button",onClick:this.handleChange,children:"Contain"})]})]})),Object(j.jsxs)("div",{className:"overlay",onClick:this.handleClick,children:[Object(j.jsx)(v,{name:"ok",className:"absolute top-margin right-margin round-button",onClick:this.handleClick,iconClass:"ok-icon"}),Object(j.jsx)(v,{name:"cancel",className:"absolute top-margin left-margin round-button",onClick:this.handleClick,iconClass:"cancel-icon"}),Object(j.jsx)("div",{className:"screen-center",style:{top:"calc(50% - 90px)"},children:Object(j.jsx)("div",{style:o})}),Object(j.jsxs)("div",{className:"config-background config-container",children:[s,Object(j.jsx)(C,{name:"backgroundStyle",options:a.menu_options,selected:this.state.backgroundStyle,onClick:this.handleClick})]})]})}}]),a}(n.a.Component);B.menu_options=[{label:"Color",value:"backgroundColor"},{label:"Gradient",value:"backgroundGradient"},{label:"Image",value:"backgroundImage"}];var E=B,G=a(9),L=["fontSize","transform","backgroundColor","borderColor","borderWidth","borderStyle","borderRadius","textShadow","opacity"],W=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={currX:0,currY:0,prevX:0,prevY:0},r.elem=n.a.createRef(),r.handleMouseDown=r.handleMouseDown.bind(Object(h.a)(r)),r.handleDrag=r.handleDrag.bind(Object(h.a)(r)),r.handleMouseUp=r.handleMouseUp.bind(Object(h.a)(r)),r.leftLineElem=n.a.createRef(),r.topLineElem=n.a.createRef(),r.rightLineElem=n.a.createRef(),r.bottomLineElem=n.a.createRef(),r}return Object(d.a)(a,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.container.current.onmouseup=this.handleMouseUp,this.props.container.current.onmousemove=this.handleDrag,this.props.container.current.ontouchend=this.handleMouseUp,this.props.container.current.ontouchmove=this.handleDrag,"touchstart"===e.type&&1===e.touches.length&&(e=e.touches[0]||e.changedTouches[0]),this.setState({prevX:e.clientX,prevY:e.clientY}),this.elem.current.classList.add("grabbing"),this.props.handleDraggableClick(this.elem.current.id)}},{key:"handleDrag",value:function(e){e.stopPropagation(),"touchmove"===e.type&&1===e.touches.length&&(e=e.touches[0]||e.changedTouches[0]);var t=this.state.prevX-e.clientX,a=this.state.prevY-e.clientY,r=e.clientX,n=e.clientY;this.setState({currX:t,currY:a,prevX:r,prevY:n})}},{key:"handleMouseUp",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.container.current.onmouseup=null,this.props.container.current.onmousemove=null,this.props.container.current.ontouchend=null,this.props.container.current.ontouchmove=null,this.elem.current.classList.remove("grabbing")}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return{top:this.elem.current.offsetTop-this.state.currY,left:this.elem.current.offsetLeft-this.state.currX,width:this.elem.current.offsetWidth,height:this.elem.current.offsetHeight,containerWidth:this.props.container.current.offsetWidth,containerHeight:this.props.container.current.offsetHeight}}},{key:"componentDidUpdate",value:function(e,t,a){!a||this.state.currX===t.currX&&this.state.currY===t.currY||(a.left<0&&(a.left=0),a.top<0&&(a.top=0),a.left+a.width>a.containerWidth&&(a.left=a.containerWidth-a.width),a.top+a.height>a.containerHeight&&(a.top=a.containerHeight-a.height),this.elem.current.style.top=100*a.top/a.containerHeight+"%",this.elem.current.style.left=100*a.left/a.containerWidth+"%"),this.props.selected&&(this.leftLineElem.current.style.top=a.top+a.height/2+"px",this.leftLineElem.current.style.width=a.left+"px",this.leftLineElem.current.innerText=parseInt(a.left)+"px",this.topLineElem.current.style.left=a.left+a.width/2+"px",this.topLineElem.current.style.height=a.top+"px",this.topLineElem.current.innerHTML="<div>"+parseInt(a.top)+"px</div>",this.rightLineElem.current.style.top=a.top+a.height/2+"px",this.rightLineElem.current.style.width=a.containerWidth-a.left-a.width+"px",this.rightLineElem.current.innerText=parseInt(a.containerWidth-a.left-a.width)+"px",this.bottomLineElem.current.style.left=a.left+a.width/2+"px",this.bottomLineElem.current.style.height=a.containerHeight-a.top-a.height+"px",this.bottomLineElem.current.innerHTML="<div>"+parseInt(a.containerHeight-a.top-a.height)+"px</div>")}},{key:"componentDidMount",value:function(){this.elem.current.style.top="calc(50% - "+this.elem.current.offsetHeight/2+"px )",this.elem.current.style.left="calc(50% - "+this.elem.current.offsetWidth/2+"px )"}},{key:"render",value:function(){var e=this,t=null;if(this.props.image){var a={top:f(this.props.crop.offsetTop,parseFloat(this.props.crop.top),parseFloat(this.props.style.height))+"px",left:f(this.props.crop.offsetLeft,parseFloat(this.props.crop.left),parseFloat(this.props.style.width))+"px",width:f(this.props.crop.offsetWidth,parseFloat(this.props.crop.width),parseFloat(this.props.style.width))+"px",height:f(this.props.crop.offsetHeight,parseFloat(this.props.crop.height),parseFloat(this.props.style.height))+"px"};t=Object(j.jsxs)(j.Fragment,{children:[this.props.selected&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{ref:this.leftLineElem,className:"left-dotted-line"}),Object(j.jsx)("div",{ref:this.topLineElem,className:"top-dotted-line"}),Object(j.jsx)("div",{ref:this.rightLineElem,className:"right-dotted-line"}),Object(j.jsx)("div",{ref:this.bottomLineElem,className:"bottom-dotted-line"})]}),Object(j.jsxs)("div",{id:this.props.id,style:{transform:this.props.style.transform},className:this.props.selected?"draggable-selected absolute draggable":"absolute draggable",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,ref:this.elem,children:[Object(j.jsx)("div",{className:"draggable overflow-hidden",style:a,children:Object(j.jsx)("img",{className:"draggable",style:{filter:m(this.props.filter),width:this.props.style.width,marginTop:"-"+a.top,marginLeft:"-"+a.left},src:this.props.image,onLoad:function(t){return e.props.handleImageHeight(e.props.id,t.currentTarget.offsetHeight)},alt:"error"})}),Object(j.jsx)("div",{className:"draggable selected-overlay"})]})]})}else if(this.props.text){var r=this.props.style,n=r.fontSize,s=r.transform,o=r.backgroundColor,i=r.borderColor,l=r.borderWidth,c=r.borderStyle,d=r.borderRadius,h=r.textShadow,p=r.opacity,u=Object(G.a)(r,L);"gradient"===this.props.fontColorStyle?u.backgroundImage=this.props.fontGradientColor:"image"===this.props.fontColorStyle&&(u.backgroundImage=this.props.fontImage);var g={backgroundColor:o,borderColor:i,borderWidth:l,borderStyle:c,borderRadius:d,opacity:p};"gradient"===this.props.backgroundColorStyle?g.backgroundImage=this.props.backgroundGradientColor:"image"===this.props.backgroundColorStyle&&(g.backgroundImage=this.props.backgroundImage),t=Object(j.jsxs)(j.Fragment,{children:[this.props.selected&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{ref:this.leftLineElem,className:"left-dotted-line"}),Object(j.jsx)("div",{ref:this.topLineElem,className:"top-dotted-line"}),Object(j.jsx)("div",{ref:this.rightLineElem,className:"right-dotted-line"}),Object(j.jsx)("div",{ref:this.bottomLineElem,className:"bottom-dotted-line"})]}),Object(j.jsx)("div",{id:this.props.id,style:{fontSize:n,transform:s},className:this.props.selected?"draggable-selected absolute draggable":"absolute draggable",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,ref:this.elem,children:Object(j.jsxs)("div",{style:u,className:"normal"!==this.props.fontColorStyle?"background-font draggable":"draggable",children:[Object(j.jsx)("div",{className:"text-background",style:g}),Object(j.jsx)("div",{style:{textShadow:h,padding:u.padding},className:"text-shadow",children:this.props.text}),Object(j.jsx)("div",{className:"draggable",children:this.props.text}),Object(j.jsx)("div",{className:"draggable selected-overlay"})]})})]})}return t}}]),a}(n.a.PureComponent),A=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"config-container",style:{right:"80px"},children:Object(j.jsxs)("div",{className:"draggable-config-container",children:[Object(j.jsx)(I,{name:"size",label:"Size",value:this.props.size.replace("px",""),convertToPercent:"true",suffix:"%",min:this.props.minSize,max:this.props.maxSize,step:this.props.step,handleChange:this.props.handleChange}),Object(j.jsx)(I,{name:"rotate",label:"Rotate",value:this.props.rotate.replace("rotate(","").replace("deg)",""),suffix:"deg",min:"-180",max:"180",step:"5",handleChange:this.props.handleChange})]})})}}]),a}(n.a.Component),z=a(12),M=a(13),H=a.n(M),R=["backgroundColor","borderColor","borderWidth","borderStyle","borderRadius","textShadow","opacity"],P=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={id:"txt_"+Date.now(),text:"",style:{position:"relative",textAlign:"center",fontFamily:"Times New Roman",color:"#000000",fontStyle:"normal",fontWeight:"normal",textDecoration:"none",textShadow:"1px 1px 2px transparent",backgroundColor:"transparent",padding:"3px",borderColor:"transparent",borderStyle:"solid",borderWidth:"0px",borderRadius:"0px",opacity:1,whiteSpace:"pre-wrap"},selectedOption:"",selectedFontGradient:"top",fontColorStyle:"normal",fontGradientColor:"linear-gradient(#9C27B0,#03A9F4)",fontImage:"linear-gradient(to left, violet, indigo, green, blue, yellow, orange, red)",selectedBackgroundGradient:"top",backgroundColorStyle:"normal",backgroundGradientColor:"linear-gradient(#D1C4E9,#B2EBF2)",backgroundImage:"linear-gradient(to left, #673AB7, #2196F3, #4CAF50, #00BCD4, #FFEB3B, #FF9800, #FF5722)"},e.data&&(r.state=g(e.data),r.state.style.transform=void 0,r.state.style.fontSize=void 0,r.state.selectedOption=""),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r.handleChange=r.handleChange.bind(Object(h.a)(r)),r.handleTextChange=r.handleTextChange.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleClick",value:function(e){var t=this;if("selectedOption"===e.currentTarget.dataset.name)this.state.selectedOption===e.currentTarget.dataset.value?this.setState({selectedOption:""}):this.setState({selectedOption:e.currentTarget.dataset.value});else if("fontColorStyle"===e.currentTarget.dataset.name)this.setState({fontColorStyle:e.currentTarget.dataset.value});else if("selectedFontGradient"===e.currentTarget.dataset.name)this.setState({selectedFontGradient:e.currentTarget.dataset.value});else if("fontImage"===e.currentTarget.name){if(e.target.files.length>0)b(e.target.files[0],(function(e){t.setState({fontImage:"url("+e+")"})}))}else if("backgroundColorStyle"===e.currentTarget.dataset.name)this.setState({backgroundColorStyle:e.currentTarget.dataset.value});else if("selectedBackgroundGradient"===e.currentTarget.dataset.name)this.setState({selectedBackgroundGradient:e.currentTarget.dataset.value});else if("backgroundImage"===e.currentTarget.name){if(e.target.files.length>0)b(e.target.files[0],(function(e){t.setState({backgroundImage:"url("+e+")"})}))}else if("ok"===e.currentTarget.dataset.name){var a=g(this.state);this.props.onSave(a)}else"cancel"===e.currentTarget.dataset.name?this.props.onSave():this.setState({selectedOption:""})}},{key:"handleChange",value:function(e){if("style"===e.currentTarget.name){var t=g(this.state.style);if(e.currentTarget.dataset.prop.includes("textShadow")){var a=t.textShadow.split(" "),r=Object(i.a)(a,4),n={textShadowLeft:r[0],textShadowTop:r[1],textShadowBlur:r[2],textShadowColor:r[3]};n[e.currentTarget.dataset.prop]=e.currentTarget.value+"px",t.textShadow=[n.textShadowLeft,n.textShadowTop,n.textShadowBlur,n.textShadowColor].join(" ")}else"opacity"===e.currentTarget.dataset.prop?t[e.currentTarget.dataset.prop]=e.currentTarget.value:t[e.currentTarget.dataset.prop]=e.currentTarget.value+"px";this.setState({style:t})}else if("style"===e.currentTarget.dataset.name)if("fontGradientTop"===e.currentTarget.dataset.prop||"fontGradientBottom"===e.currentTarget.dataset.prop){var s=this.state.fontGradientColor.replace("linear-gradient(","").replace(")","").split(",");s["fontGradientTop"===e.currentTarget.dataset.prop?0:1]=e.currentTarget.dataset.value,this.setState({fontGradientColor:"linear-gradient("+s[0]+","+s[1]+")"})}else if("backgroundGradientTop"===e.currentTarget.dataset.prop||"backgroundGradientBottom"===e.currentTarget.dataset.prop){var o=this.state.backgroundGradientColor.replace("linear-gradient(","").replace(")","").split(",");o["backgroundGradientTop"===e.currentTarget.dataset.prop?0:1]=e.currentTarget.dataset.value,this.setState({backgroundGradientColor:"linear-gradient("+o[0]+","+o[1]+")"})}else if(e.currentTarget.dataset.prop.includes("textShadow")){var l=g(this.state.style),c=l.textShadow.split(" "),d=Object(i.a)(c,4),h={textShadowLeft:d[0],textShadowTop:d[1],textShadowBlur:d[2],textShadowColor:d[3]};h[e.currentTarget.dataset.prop]=e.currentTarget.dataset.value,l.textShadow=[h.textShadowLeft,h.textShadowTop,h.textShadowBlur,h.textShadowColor].join(" "),this.setState({style:l})}else{var p=g(this.state.style);p[e.currentTarget.dataset.prop]=e.currentTarget.dataset.value,this.setState({style:p})}}},{key:"handleTextChange",value:function(e){this.setState({text:e.currentTarget.innerText})}},{key:"render",value:function(){var e,t={fontColorStyle:this.state.fontColorStyle,selectedFontGradient:this.state.selectedFontGradient,fontGradientColor:this.state.fontGradientColor,fontImage:this.state.fontImage,backgroundColorStyle:this.state.backgroundColorStyle,selectedBackgroundGradient:this.state.selectedBackgroundGradient,backgroundGradientColor:this.state.backgroundGradientColor,backgroundImage:this.state.backgroundImage},r=this.state.backgroundGradientColor.replace("linear-gradient(","").replace(")","").split(","),n=this.state.fontGradientColor.replace("linear-gradient(","").replace(")","").split(","),s=this.state.style.textShadow.split(" "),o=Object(i.a)(s,4),l=o[0],c=o[1],d=o[2],h=o[3];return"font-config"===this.state.selectedOption?e=Object(j.jsxs)("div",{children:[Object(j.jsx)(k,{textAlign:this.state.style.textAlign,handleChange:this.handleChange}),Object(j.jsx)(S,{fontFamily:this.state.style.fontFamily,handleChange:this.handleChange}),Object(j.jsx)(F,{colorStyle:this.state.fontColorStyle,selectedGradient:this.state.selectedFontGradient,styleProperty:"fontColorStyle",normal:{color:this.state.style.color,property:"color"},gradient:{property:"selectedFontGradient",top:n[0],bottom:n[1],selectedGradient:this.state.selectedFontGradient,topProperty:"fontGradientTop",bottomProperty:"fontGradientBottom"},image:{property:"fontImage",value:this.state.fontImage},handleClick:this.handleClick,handleChange:this.handleChange}),Object(j.jsx)(w,{fontStyle:this.state.style.fontStyle,fontWeight:this.state.style.fontWeight,textDecoration:this.state.style.textDecoration,handleChange:this.handleChange})]}):"text-shadow-config"===this.state.selectedOption?e=Object(j.jsxs)("div",{children:[Object(j.jsx)(D,{color:h,transparent:"true",property:"textShadowColor",handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"textShadowLeft",label:"Left",value:l.replace("px",""),suffix:"px",min:"-20",max:"20",handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"textShadowTop",label:"Top",value:c.replace("px",""),suffix:"px",min:"-20",max:"20",handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"textShadowBlur",label:"Blur",value:d.replace("px",""),suffix:"%",min:"0",max:"20",handleChange:this.handleChange})]}):"background-config"===this.state.selectedOption?e=Object(j.jsxs)("div",{children:[Object(j.jsx)(F,{colorStyle:this.state.backgroundColorStyle,selectedGradient:this.state.selectedBackgroundGradient,styleProperty:"backgroundColorStyle",normal:{color:this.state.style.backgroundColor,property:"backgroundColor",transparent:!0},gradient:{property:"selectedBackgroundGradient",top:r[0],bottom:r[1],selectedGradient:this.state.selectedBackgroundGradient,topProperty:"backgroundGradientTop",bottomProperty:"backgroundGradientBottom"},image:{property:"backgroundImage",value:this.state.backgroundImage},handleClick:this.handleClick,handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"padding",label:"Size",value:this.state.style.padding.replace("px",""),suffix:"px",min:"0",max:"50",handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"opacity",label:"Opacity",value:this.state.style.opacity,suffix:"%",convertToPercent:"true",min:"0",max:"1",step:"0.1",handleChange:this.handleChange})]}):"border-config"===this.state.selectedOption&&(e=Object(j.jsxs)("div",{children:[Object(j.jsx)(D,{color:this.state.style.borderColor,property:"borderColor",transparent:"true",handleChange:this.handleChange}),Object(j.jsx)(N,{borderStyle:this.state.style.borderStyle,handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"borderWidth",label:"Size",value:this.state.style.borderWidth.replace("px",""),suffix:"px",min:"0",max:"10",handleChange:this.handleChange}),Object(j.jsx)(I,{name:"style",property:"borderRadius",label:"Radius",value:this.state.style.borderRadius.replace("px",""),suffix:"px",min:"0",max:"100",handleChange:this.handleChange})]})),Object(j.jsxs)("div",{className:"overlay",onClick:this.handleClick,children:[Object(j.jsx)(v,{name:"ok",className:"absolute top-margin right-margin round-button",onClick:this.handleClick,iconClass:"ok-icon"}),Object(j.jsx)(v,{name:"cancel",className:"absolute top-margin left-margin round-button",onClick:this.handleClick,iconClass:"cancel-icon"}),Object(j.jsx)("div",{className:"screen-center",spellCheck:"false",children:Object(j.jsx)(Y,Object(z.a)({style:this.state.style,selectedOption:this.state.selectedOption,text:this.state.text,handleTextChange:this.handleTextChange},t))}),Object(j.jsxs)("div",{className:""!==this.state.selectedOption?"config-background config-container":"config-container",onClick:function(e){return e.stopPropagation()},children:[e,Object(j.jsx)(C,{name:"selectedOption",options:a.menu_options,selected:this.state.selectedOption,onClick:this.handleClick})]})]})}}]),a}(n.a.Component);P.menu_options=[{label:"Font",value:"font-config"},{label:"Shadow",value:"text-shadow-config"},{label:"Background",value:"background-config"},{label:"Border",value:"border-config"}];var Y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).textField=n.a.createRef(),r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.selectedOption||this.textField.current.getEl().focus()}},{key:"componentDidUpdate",value:function(){this.props.selectedOption||this.textField.current.getEl().focus()}},{key:"render",value:function(){var e=this.props.style,t=e.backgroundColor,a=e.borderColor,r=e.borderWidth,n=e.borderStyle,s=e.borderRadius,o=e.textShadow,i=e.opacity,l=Object(G.a)(e,R);"gradient"===this.props.fontColorStyle?l.backgroundImage=this.props.fontGradientColor:"image"===this.props.fontColorStyle&&(l.backgroundImage=this.props.fontImage);var c={backgroundColor:t,borderColor:a,borderWidth:r,borderStyle:n,borderRadius:s,opacity:i};return"gradient"===this.props.backgroundColorStyle?c.backgroundImage=this.props.backgroundGradientColor:"image"===this.props.backgroundColorStyle&&(c.backgroundImage=this.props.backgroundImage),Object(j.jsx)("div",{className:"input-text-wrapper",children:Object(j.jsxs)("div",{style:l,className:"normal"!==this.props.fontColorStyle?"background-font":"",children:[Object(j.jsx)("div",{style:c,className:"text-background"}),Object(j.jsx)("div",{style:{textShadow:o,padding:l.padding},className:"text-shadow editable",children:this.props.text}),Object(j.jsx)(H.a,{className:"editable",ref:this.textField,onChange:this.props.handleTextChange,html:this.props.text})]})})}}]),a}(n.a.Component),X=P,U={blur:{label:"Blur",min:0,max:10,style:{filter:"blur(3px)"}},brightness:{label:"Brightness",min:50,max:200,style:{filter:"brightness(200%)"}},contrast:{label:"Contrast",min:50,max:200,style:{filter:"contrast(200%)"}},dropShadow:{label:"Shadow",min:0,max:20,style:{filter:"drop-shadow(2px 2px 2px gray)"}},grayscale:{label:"Gray Scale",min:0,max:100,style:{filter:"grayscale(100%)"}},hueRotate:{label:"Hue",min:0,max:360,style:{filter:"hue-rotate(45deg)"}},invert:{label:"Invert",min:0,max:100,style:{filter:"invert(100%)"}},opacity:{label:"Opacity",min:0,max:100,style:{filter:"opacity(50%)"}},saturate:{label:"Saturation",min:1,max:20,style:{filter:"saturate(5)"}},sepia:{label:"Sepia",min:0,max:100,style:{filter:"sepia(100%)"}}},_=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={crop:{},filter:{},selectedOption:"size-config",selectedFilter:"blur",selectedCrop:"",currX:0,currY:0,prevX:0,prevY:0,height:100,width:100},e.data&&(Object.assign(r.state.filter,e.data.filter),Object.assign(r.state.crop,e.data.crop)),r.handleChange=r.handleChange.bind(Object(h.a)(r)),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r.handleImageLoad=r.handleImageLoad.bind(Object(h.a)(r)),r.container=n.a.createRef(),r.image=n.a.createRef(),r.handleMouseDown=r.handleMouseDown.bind(Object(h.a)(r)),r.handleDrag=r.handleDrag.bind(Object(h.a)(r)),r.handleMouseUp=r.handleMouseUp.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleClick",value:function(e){if("ok"===e.currentTarget.dataset.name){var t=g(this.props.data);t.filter=this.state.filter,t.crop=this.state.crop,this.props.onSave(t)}else"cancel"===e.currentTarget.dataset.name?this.props.onSave():"selectedOption"===e.currentTarget.dataset.name?this.setState({selectedOption:e.currentTarget.dataset.value}):"selectedFilter"===e.currentTarget.dataset.name&&this.setState({selectedFilter:e.currentTarget.dataset.value})}},{key:"handleChange",value:function(e){if("filter"===e.currentTarget.name){var t=g(this.state.filter),a=e.currentTarget.dataset.prop,r=e.currentTarget.value;"blur"===a?r+="px":"dropShadow"===a?r+="px "+r+"px "+r+"px gray":"hueRotate"===a?r+="deg":"saturate"===a?r=r:r+="%",t[a]=r,this.setState({filter:t})}}},{key:"handleMouseDown",value:function(e){this.container.current.onmouseup=this.handleMouseUp,this.container.current.onmousemove=this.handleDrag,this.container.current.ontouchend=this.handleMouseUp,this.container.current.ontouchmove=this.handleDrag;var t=e.currentTarget.dataset.prop;"touchstart"===e.type&&1===e.touches.length&&(e=e.touches[0]||e.changedTouches[0]),this.setState({selectedCrop:t,prevX:e.clientX,prevY:e.clientY})}},{key:"handleDrag",value:function(e){"touchmove"===e.type&&1===e.touches.length&&(e=e.touches[0]||e.changedTouches[0]);var t=this.state.prevX-e.clientX,a=this.state.prevY-e.clientY,r=e.clientX,n=e.clientY,s=g(this.state.crop);"left"===this.state.selectedCrop?(s.left=100*(s.offsetLeft-t)/this.container.current.offsetWidth+"%",s.width=100*(s.offsetWidth+t)/this.container.current.offsetWidth+"%",s.offsetLeft=s.offsetLeft-t,s.offsetWidth=s.offsetWidth+t):"top"===this.state.selectedCrop?(s.top=100*(s.offsetTop-a)/this.container.current.offsetHeight+"%",s.height=100*(s.offsetHeight+a)/this.container.current.offsetHeight+"%",s.offsetTop=s.offsetTop-a,s.offsetHeight=s.offsetHeight+a):"right"===this.state.selectedCrop?(s.width=100*(s.offsetWidth-t)/this.container.current.offsetWidth+"%",s.offsetWidth=s.offsetWidth-t):"bottom"===this.state.selectedCrop?(s.height=100*(s.offsetHeight-a)/this.container.current.offsetHeight+"%",s.offsetHeight=s.offsetHeight-a):"drag"===this.state.selectedCrop&&(s.left=100*(s.offsetLeft-t)/this.container.current.offsetWidth+"%",s.top=100*(s.offsetTop-a)/this.container.current.offsetHeight+"%",s.offsetLeft=s.offsetLeft-t,s.offsetTop=s.offsetTop-a);var o=!1;s.offsetLeft<0&&(o="drag"!==this.state.selectedCrop,s.left="0%",s.offsetLeft=0),s.offsetTop<0&&(o="drag"!==this.state.selectedCrop,s.top="0%",s.offsetTop=0),s.offsetLeft+s.offsetWidth>this.container.current.offsetWidth&&("drag"===this.state.selectedCrop?(s.left=100*(this.container.current.offsetWidth-s.offsetWidth)/this.container.current.offsetWidth+"%",s.offsetLeft=this.container.current.offsetWidth-s.offsetWidth):(o=!0,s.width=100*(this.container.current.offsetWidth-s.offsetLeft)/this.container.current.offsetWidth+"%",s.offsetWidth=this.container.current.offsetWidth-s.offsetLeft)),s.offsetTop+s.offsetHeight>this.container.current.offsetHeight&&("drag"===this.state.selectedCrop?(s.top=100*(this.container.current.offsetHeight-s.offsetHeight)/this.container.current.offsetHeight+"%",s.offsetTop=this.container.current.offsetHeight-s.offsetHeight):(o=!0,s.height=100*(this.container.current.offsetHeight-s.offsetTop)/this.container.current.offsetHeight+"%",s.offsetHeight=this.container.current.offsetHeight-s.offsetTop)),this.setState({crop:s,currX:t,currY:a,prevX:r,prevY:n}),o&&this.handleMouseUp()}},{key:"handleMouseUp",value:function(e){this.container.current.onmouseup=null,this.container.current.onmousemove=null,this.container.current.ontouchend=null,this.container.current.ontouchmove=null,this.setState({selectedCrop:""})}},{key:"handleImageLoad",value:function(e){var t=g(this.state.crop);t.offsetHeight=parseFloat(t.height)/100*e.currentTarget.offsetHeight,t.offsetWidth=parseFloat(t.width)/100*e.currentTarget.offsetWidth,this.setState({crop:t,height:e.currentTarget.offsetHeight,width:e.currentTarget.offsetWidth})}},{key:"render",value:function(){var e={top:f(this.state.crop.offsetTop,parseFloat(this.state.crop.top),this.state.height)+"px",left:f(this.state.crop.offsetLeft,parseFloat(this.state.crop.left),this.state.width)+"px",width:f(this.state.crop.offsetWidth,parseFloat(this.state.crop.width),this.state.width)+"px",height:f(this.state.crop.offsetHeight,parseFloat(this.state.crop.height),this.state.height)+"px"};return Object(j.jsxs)("div",{className:"overlay",children:[Object(j.jsx)("button",{"data-name":"ok",className:"absolute top-margin right-margin round-button",onClick:this.handleClick,children:Object(j.jsx)("div",{className:"ok-icon"})}),Object(j.jsx)("button",{"data-name":"cancel",className:"absolute top-margin left-margin round-button",onClick:this.handleClick,children:Object(j.jsx)("div",{className:"cancel-icon"})}),"size-config"===this.state.selectedOption?Object(j.jsxs)("div",{className:"main-image-filter",ref:this.container,children:[Object(j.jsx)("img",{src:this.props.data.image,alt:"error",style:{filter:m(this.state.filter)}}),Object(j.jsx)("div",{className:"image-crop-overlay"}),Object(j.jsxs)("div",{className:"image-crop-view",style:this.state.crop,ref:this.image,children:[Object(j.jsx)("img",{src:this.props.data.image,alt:"error",style:{filter:m(this.state.filter),marginTop:"-"+this.state.crop.offsetTop+"px",marginLeft:"-"+this.state.crop.offsetLeft+"px"},onLoad:this.handleImageLoad}),Object(j.jsx)("div",{className:"absolute image-horizontal-grid"}),Object(j.jsx)("div",{className:"absolute image-vertical-grid"}),Object(j.jsx)("div",{"data-prop":"left",className:"absolute image-crop-left",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),Object(j.jsx)("div",{"data-prop":"top",className:"absolute image-crop-top",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),Object(j.jsx)("div",{"data-prop":"right",className:"absolute image-crop-right",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),Object(j.jsx)("div",{"data-prop":"bottom",className:"absolute image-crop-bottom",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),Object(j.jsx)("div",{"data-prop":"drag",className:"absolute image-drag",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown})]})]}):Object(j.jsx)("div",{className:"main-image-filter",children:Object(j.jsx)("div",{className:"overflow-hidden",style:e,children:Object(j.jsx)("img",{src:this.props.data.image,alt:"error",style:{filter:m(this.state.filter),marginTop:"-"+this.state.crop.offsetTop+"px",marginLeft:"-"+this.state.crop.offsetLeft+"px"},onLoad:this.handleImageLoad})})}),Object(j.jsxs)("div",{className:"config-background config-container",children:["filter-config"===this.state.selectedOption&&Object(j.jsx)(J,{image:this.props.data.image,selectedFilter:this.state.selectedFilter,value:this.state.filter[this.state.selectedFilter],handleClick:this.handleClick,handleChange:this.handleChange}),Object(j.jsxs)("div",{className:"config-menu-container",children:[Object(j.jsx)("div",{"data-name":"selectedOption","data-value":"size-config",className:"size-config"===this.state.selectedOption?"selected":"",onClick:this.handleClick,children:"Size"}),Object(j.jsx)("div",{"data-name":"selectedOption","data-value":"filter-config",className:"filter-config"===this.state.selectedOption?"selected":"",onClick:this.handleClick,children:"Filter"})]})]})]})}}]),a}(n.a.Component),J=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=U[this.props.selectedFilter],a=Object.keys(U).map((function(t){return Object(j.jsxs)("div",{className:t===e.props.selectedFilter?"image-thumbnail selected":"image-thumbnail","data-name":"selectedFilter","data-value":t,onClick:e.props.handleClick,children:[Object(j.jsx)("img",{src:e.props.image,style:U[t].style,alt:"error"}),Object(j.jsx)("div",{children:U[t].label})]},t)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(I,{name:"filter",property:this.props.selectedFilter,label:t.label,value:parseInt(this.props.value),convertToPercent:"true",suffix:"%",min:t.min,max:t.max,handleChange:this.props.handleChange}),Object(j.jsxs)("div",{className:"image-thumbnail-container",children:[" ",a," "]})]})}}]),a}(n.a.Component),q=_,K=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={backgroundSize:"1 x 1",backgroundImage:"linear-gradient(to left, #673AB7, #2196F3, #4CAF50, #00BCD4, #FFEB3B, #FF9800, #FF5722)",backgroundColor:"#FFFFFF",backgroundGradient:"linear-gradient(#D1C4E9,#B2EBF2)",backgroundImageSize:"cover",backgroundStyle:"backgroundColor",addIconClicked:!1,configOverlay:!1,backgroundConfigOverlay:!1,textArray:[],imageArray:[],selectedDraggable:void 0,screenshotMode:!1},r.container=n.a.createRef(),r.handleChange=r.handleChange.bind(Object(h.a)(r)),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r.handleTextSave=r.handleTextSave.bind(Object(h.a)(r)),r.handleImageSave=r.handleImageSave.bind(Object(h.a)(r)),r.handleBackgroundSave=r.handleBackgroundSave.bind(Object(h.a)(r)),r.handleImageHeight=r.handleImageHeight.bind(Object(h.a)(r)),r.handleScreenshot=r.handleScreenshot.bind(Object(h.a)(r)),r.state.touchDiff=0,r.appElem=n.a.createRef(),r.handleTouchStart=r.handleTouchStart.bind(Object(h.a)(r)),r.handleTouchMove=r.handleTouchMove.bind(Object(h.a)(r)),r.handleTouchEnd=r.handleTouchEnd.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleChange",value:function(e){var t=this;if(e.stopPropagation(),"backgroundConfig"===e.target.dataset.name&&this.setState({backgroundConfigOverlay:!0}),"backgroundSizeConfig"===e.target.dataset.name){var a="1 x 1";"1 x 1"===e.target.dataset.value?a="3 x 4":"3 x 4"===e.target.dataset.value&&(a="9 x 16"),this.setState({backgroundSize:a})}("add"===e.target.dataset.name&&this.setState({addIconClicked:!this.state.addIconClicked}),"edit"===e.target.dataset.name&&this.setState({configOverlay:!0}),"addImage"===e.target.name)&&(e.target.files.length>0&&b(e.target.files[0],(function(e){var a={id:"img_"+Date.now(),style:{width:"100px",transform:"rotate(0deg)"},filter:{blur:"0px",brightness:"100%",contrast:"100%",dropShadow:"0px 0px 0px gray",grayscale:"0%",hueRotate:"0deg",invert:"0%",opacity:"100%",saturate:"1",sepia:"0%"},crop:{top:"0%",left:"0%",width:"100%",height:"100%",offsetTop:0,offsetLeft:0,offsetWidth:100,offsetHeight:100},image:e};t.handleImageSave(a)})));if("addText"===e.target.dataset.name&&this.setState({configOverlay:!0,addIconClicked:!1}),"style"===e.target.dataset.name&&this.setState(Object(l.a)({},e.target.dataset.prop,e.target.dataset.value)),"rotate"===e.target.name)if(this.state.selectedDraggable.startsWith("txt")){var r=g(this.state.textArray).map((function(a){return a.id===t.state.selectedDraggable&&(a.style.transform="rotate("+e.target.value+"deg)"),a}));this.setState({textArray:r})}else{var n=g(this.state.imageArray).map((function(a){return a.id===t.state.selectedDraggable&&(a.style.transform="rotate("+e.target.value+"deg)"),a}));this.setState({imageArray:n})}if("size"===e.target.name)if(this.state.selectedDraggable.startsWith("txt")){var s=g(this.state.textArray).map((function(a){return a.id===t.state.selectedDraggable&&(a.style.fontSize=e.target.value+"px"),a}));this.setState({textArray:s})}else{var o=g(this.state.imageArray).map((function(a){return a.id===t.state.selectedDraggable&&(a.style.height=parseFloat(a.style.height)*e.target.value/parseFloat(a.style.width)+"px",a.style.width=e.target.value+"px"),a}));this.setState({imageArray:o})}if("delete"===e.target.dataset.name)if(this.state.selectedDraggable.startsWith("txt")){var i=g(this.state.textArray).filter((function(e){return e.id!==t.state.selectedDraggable}));this.setState({textArray:i,selectedDraggable:void 0})}else{var c=g(this.state.imageArray).filter((function(e){return e.id!==t.state.selectedDraggable}));this.setState({imageArray:c,selectedDraggable:void 0})}}},{key:"handleClick",value:function(e){e.stopPropagation(),e.target.classList.contains("draggable")?this.setState({addIconClicked:!1,screenshotMode:!1}):this.setState({addIconClicked:!1,screenshotMode:!1,selectedDraggable:void 0})}},{key:"handleScreenshot",value:function(){this.setState({screenshotMode:!0,selectedDraggable:void 0})}},{key:"handleImageSave",value:function(e){if(e){var t=g(this.state.imageArray),a=!1;t=t.map((function(t){return t.id===e.id?(a=!0,e.style.width=t.style.width,e.style.transform=t.style.transform,e):t})),a||t.push(e),this.setState({imageArray:t,configOverlay:!1,selectedDraggable:void 0})}else this.setState({configOverlay:!1})}},{key:"handleTextSave",value:function(e){if(e&&e.text){var t=g(this.state.textArray),a=!1;t=t.map((function(t){return t.id===e.id?(a=!0,e.style.fontSize=t.style.fontSize,e.style.transform=t.style.transform,e):t})),a||(e.style.fontSize="20px",e.style.transform="rotate(0deg)",t.push(e)),this.setState({textArray:t,configOverlay:!1})}else this.setState({configOverlay:!1})}},{key:"handleBackgroundSave",value:function(e){e?this.setState({backgroundImage:e.backgroundImage,backgroundColor:e.backgroundColor,backgroundGradient:e.backgroundGradient,backgroundImageSize:e.backgroundImageSize,backgroundStyle:e.backgroundStyle,backgroundConfigOverlay:!1}):this.setState({backgroundConfigOverlay:!1})}},{key:"handleImageHeight",value:function(e,t){var a=g(this.state.imageArray).map((function(a){return a.id===e&&(a.style.height=t+"px"),a}));this.setState({imageArray:a})}},{key:"componentDidMount",value:function(){document.body.addEventListener("touchmove",(function(e){return e.preventDefault()}))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("touchmove",(function(e){return e.preventDefault()}))}},{key:"handleTouchStart",value:function(e){if(this.state.selectedDraggable&&2===e.touches.length){var t=e.touches[0].clientY,a=e.touches[1].clientY,r=t>a?parseInt(t-a):parseInt(a-t);this.setState({touchDiff:r}),this.appElem.current.ontouchmove=this.handleTouchMove,this.appElem.current.ontouchend=this.handleTouchEnd}}},{key:"handleTouchMove",value:function(e){var t=this;if(this.state.selectedDraggable&&2===e.touches.length){var a=e.touches[0].clientY,r=e.touches[1].clientY,n=a>r?parseInt(a-r):parseInt(r-a),s=n-this.state.touchDiff;if(this.state.selectedDraggable.startsWith("txt")){var o=g(this.state.textArray).map((function(e){if(e.id===t.state.selectedDraggable){var a=parseInt(e.style.fontSize)+s;a<5?a=5:a>100&&(a=100),e.style.fontSize=a+"px"}return e}));this.setState({textArray:o,touchDiff:n})}else{var i=g(this.state.imageArray).map((function(e){if(e.id===t.state.selectedDraggable){var a=parseFloat(e.style.width)+s/10;a<50?a=50:a>t.container.current.offsetWidth&&(a=t.container.current.offsetWidth),e.style.height=parseFloat(e.style.height)*a/parseFloat(e.style.width)+"px",e.style.width=a+"px"}return e}));this.setState({imageArray:i})}}}},{key:"handleTouchEnd",value:function(){this.appElem.current.ontouchmove=null,this.appElem.current.ontouchend=null}},{key:"render",value:function(){var e=this,t=this.state.backgroundSize.split(" x "),a=Object(i.a)(t,2),r=a[0],n=a[1];document.body.offsetWidth<document.body.offsetHeight?(n=100*n/r+"vmin",r="100vmin"):(r=100*r/n+"vmin",n="100vmin");var s,o={width:r,height:n,backgroundImage:"backgroundColor"===this.state.backgroundStyle?"":"backgroundGradient"===this.state.backgroundStyle?this.state.backgroundGradient:this.state.backgroundImage,backgroundColor:this.state.backgroundColor,backgroundSize:this.state.backgroundImageSize,backgroundRepeat:"no-repeat",backgroundPosition:"center"},l=this.state.textArray.map((function(t){return Object(j.jsx)(W,{id:t.id,selected:t.id===e.state.selectedDraggable,container:e.container,handleDraggableClick:function(t){return e.setState({selectedDraggable:t})},style:t.style,fontColorStyle:t.fontColorStyle,fontGradientColor:t.fontGradientColor,fontImage:t.fontImage,backgroundColorStyle:t.backgroundColorStyle,backgroundGradientColor:t.backgroundGradientColor,backgroundImage:t.backgroundImage,text:t.text},t.id)})),c=this.state.imageArray.map((function(t){return Object(j.jsx)(W,{id:t.id,selected:t.id===e.state.selectedDraggable,container:e.container,handleDraggableClick:function(t){return e.setState({selectedDraggable:t})},style:t.style,filter:t.filter,crop:t.crop,image:t.image,handleImageHeight:e.handleImageHeight},t.id)}));return this.state.selectedDraggable&&(s=this.state.selectedDraggable.startsWith("txt")?this.state.textArray.find((function(t){return t.id===e.state.selectedDraggable})):this.state.imageArray.find((function(t){return t.id===e.state.selectedDraggable}))),Object(j.jsxs)("div",{className:this.state.screenshotMode?"screenshot-mode":"",ref:this.appElem,onTouchStart:this.handleTouchStart,children:[Object(j.jsx)(v,{name:"backgroundConfig",className:"absolute top-margin left-margin round-button",onClick:this.handleChange,iconClass:"add-background-icon"}),Object(j.jsx)("div",{className:"absolute background-size top-margin pointer","data-name":"backgroundSizeConfig",onClick:this.handleChange,"data-value":this.state.backgroundSize,children:this.state.backgroundSize}),Object(j.jsx)(v,{name:"screenshot",className:"absolute top-margin right-margin round-button",onClick:this.handleScreenshot,iconClass:"screenshot-icon"}),!this.state.backgroundConfigOverlay&&!this.state.configOverlay&&this.state.selectedDraggable&&Object(j.jsx)(v,{name:"delete",className:"absolute right-margin round-button",style:{top:"60px"},onClick:this.handleChange,iconClass:"delete-icon"}),!this.state.backgroundConfigOverlay&&!this.state.configOverlay&&Object(j.jsx)(v,{name:this.state.selectedDraggable?"edit":"add",className:"absolute bottom-margin right-margin round-button",onClick:this.handleChange,iconClass:this.state.selectedDraggable?"edit-icon":"add-icon"}),this.state.addIconClicked&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y,{id:"addImage",name:"addImage",onChange:this.handleChange,className:"absolute right-margin round-button",style:{bottom:"110px"},iconClass:"add-image-icon"}),Object(j.jsx)(v,{name:"addText",className:"absolute right-margin round-button",style:{bottom:"60px"},onClick:this.handleChange,iconClass:"add-text-icon"})]}),Object(j.jsx)("div",{className:"greeting-container",onClick:this.handleClick,children:Object(j.jsxs)("div",{className:"greeting-background",style:o,ref:this.container,children:[c,l]})}),this.state.configOverlay&&(this.state.selectedDraggable&&this.state.selectedDraggable.startsWith("img")?Object(j.jsx)(q,{data:s,onSave:this.handleImageSave}):Object(j.jsx)(X,{data:s,onSave:this.handleTextSave})),this.state.backgroundConfigOverlay&&Object(j.jsx)(E,{backgroundColor:this.state.backgroundColor,backgroundImage:this.state.backgroundImage,backgroundImageSize:this.state.backgroundImageSize,backgroundGradient:this.state.backgroundGradient,backgroundStyle:this.state.backgroundStyle,backgroundSize:this.state.backgroundSize,handleBackgroundSave:this.handleBackgroundSave}),!this.state.backgroundConfigOverlay&&!this.state.configOverlay&&this.state.selectedDraggable&&Object(j.jsx)(A,{rotate:s.style.transform,size:s.style.fontSize?s.style.fontSize:s.style.width,maxSize:s.style.fontSize?"50":this.container.current.offsetWidth,minSize:s.style.fontSize?"1":"50",handleChange:this.handleChange})]})}}]),a}(n.a.Component),Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),s(e),o(e)}))};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(K,{})}),document.getElementById("root")),Q()}},[[25,1,2]]]);
//# sourceMappingURL=main.c6d77a7b.chunk.js.map